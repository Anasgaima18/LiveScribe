import{a as Hn,b as Jn,g as zn,r as D,R as Vr,u as st,L as Lr,c as Yn,B as Xn,d as Gn,e as je,N as Ut}from"./react-CB0MrxJO.js";import{W as Qn,a as Zn,d as es,R as ts}from"./livekit-P9X3fUND.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function t(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=t(s);fetch(s.href,i)}})();var Et={exports:{}},We={},ur;function rs(){if(ur)return We;ur=1;/**
 * @license React
 * react-jsx-dev-runtime.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */return(function(){var r=Hn(),e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),x=Symbol.for("react.offscreen"),p=Symbol.iterator,b="@@iterator";function v(c){if(c===null||typeof c!="object")return null;var g=p&&c[p]||c[b];return typeof g=="function"?g:null}var N=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function j(c){{for(var g=arguments.length,E=new Array(g>1?g-1:0),w=1;w<g;w++)E[w-1]=arguments[w];S("error",c,E)}}function S(c,g,E){{var w=N.ReactDebugCurrentFrame,V=w.getStackAddendum();V!==""&&(g+="%s",E=E.concat([V]));var B=E.map(function(O){return String(O)});B.unshift("Warning: "+g),Function.prototype.apply.call(console[c],console,B)}}var k=!1,C=!1,L=!1,_=!1,R=!1,F;F=Symbol.for("react.module.reference");function ue(c){return!!(typeof c=="string"||typeof c=="function"||c===n||c===i||R||c===s||c===m||c===d||_||c===x||k||C||L||typeof c=="object"&&c!==null&&(c.$$typeof===y||c.$$typeof===h||c.$$typeof===o||c.$$typeof===l||c.$$typeof===u||c.$$typeof===F||c.getModuleId!==void 0))}function Fe(c,g,E){var w=c.displayName;if(w)return w;var V=g.displayName||g.name||"";return V!==""?E+"("+V+")":E}function de(c){return c.displayName||"Context"}function M(c){if(c==null)return null;if(typeof c.tag=="number"&&j("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case n:return"Fragment";case t:return"Portal";case i:return"Profiler";case s:return"StrictMode";case m:return"Suspense";case d:return"SuspenseList"}if(typeof c=="object")switch(c.$$typeof){case l:var g=c;return de(g)+".Consumer";case o:var E=c;return de(E._context)+".Provider";case u:return Fe(c,c.render,"ForwardRef");case h:var w=c.displayName||null;return w!==null?w:M(c.type)||"Memo";case y:{var V=c,B=V._payload,O=V._init;try{return M(O(B))}catch{return null}}}return null}var H=Object.assign,le=0,G,ke,ee,Pe,Ie,te,ae;function be(){}be.__reactDisabledLog=!0;function ge(){{if(le===0){G=console.log,ke=console.info,ee=console.warn,Pe=console.error,Ie=console.group,te=console.groupCollapsed,ae=console.groupEnd;var c={configurable:!0,enumerable:!0,value:be,writable:!0};Object.defineProperties(console,{info:c,log:c,warn:c,error:c,group:c,groupCollapsed:c,groupEnd:c})}le++}}function Ue(){{if(le--,le===0){var c={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:H({},c,{value:G}),info:H({},c,{value:ke}),warn:H({},c,{value:ee}),error:H({},c,{value:Pe}),group:H({},c,{value:Ie}),groupCollapsed:H({},c,{value:te}),groupEnd:H({},c,{value:ae})})}le<0&&j("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}}var mt=N.ReactCurrentDispatcher,ht;function qe(c,g,E){{if(ht===void 0)try{throw Error()}catch(V){var w=V.stack.trim().match(/\n( *(at )?)/);ht=w&&w[1]||""}return`
`+ht+c}}var pt=!1,$e;{var Dn=typeof WeakMap=="function"?WeakMap:Map;$e=new Dn}function Gt(c,g){if(!c||pt)return"";{var E=$e.get(c);if(E!==void 0)return E}var w;pt=!0;var V=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var B;B=mt.current,mt.current=null,ge();try{if(g){var O=function(){throw Error()};if(Object.defineProperty(O.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(O,[])}catch(z){w=z}Reflect.construct(c,[],O)}else{try{O.call()}catch(z){w=z}c.call(O.prototype)}}else{try{throw Error()}catch(z){w=z}c()}}catch(z){if(z&&w&&typeof z.stack=="string"){for(var A=z.stack.split(`
`),J=w.stack.split(`
`),U=A.length-1,q=J.length-1;U>=1&&q>=0&&A[U]!==J[q];)q--;for(;U>=1&&q>=0;U--,q--)if(A[U]!==J[q]){if(U!==1||q!==1)do if(U--,q--,q<0||A[U]!==J[q]){var Q=`
`+A[U].replace(" at new "," at ");return c.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",c.displayName)),typeof c=="function"&&$e.set(c,Q),Q}while(U>=1&&q>=0);break}}}finally{pt=!1,mt.current=B,Ue(),Error.prepareStackTrace=V}var ye=c?c.displayName||c.name:"",fe=ye?qe(ye):"";return typeof c=="function"&&$e.set(c,fe),fe}function xn(c,g,E){return Gt(c,!1)}function wn(c){var g=c.prototype;return!!(g&&g.isReactComponent)}function Me(c,g,E){if(c==null)return"";if(typeof c=="function")return Gt(c,wn(c));if(typeof c=="string")return qe(c);switch(c){case m:return qe("Suspense");case d:return qe("SuspenseList")}if(typeof c=="object")switch(c.$$typeof){case u:return xn(c.render);case h:return Me(c.type,g,E);case y:{var w=c,V=w._payload,B=w._init;try{return Me(B(V),g,E)}catch{}}}return""}var Re=Object.prototype.hasOwnProperty,Qt={},Zt=N.ReactDebugCurrentFrame;function Ke(c){if(c){var g=c._owner,E=Me(c.type,c._source,g?g.type:null);Zt.setExtraStackFrame(E)}else Zt.setExtraStackFrame(null)}function kn(c,g,E,w,V){{var B=Function.call.bind(Re);for(var O in c)if(B(c,O)){var A=void 0;try{if(typeof c[O]!="function"){var J=Error((w||"React class")+": "+E+" type `"+O+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof c[O]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw J.name="Invariant Violation",J}A=c[O](g,O,w,E,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(U){A=U}A&&!(A instanceof Error)&&(Ke(V),j("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",w||"React class",E,O,typeof A),Ke(null)),A instanceof Error&&!(A.message in Qt)&&(Qt[A.message]=!0,Ke(V),j("Failed %s type: %s",E,A.message),Ke(null))}}}var Pn=Array.isArray;function vt(c){return Pn(c)}function Rn(c){{var g=typeof Symbol=="function"&&Symbol.toStringTag,E=g&&c[Symbol.toStringTag]||c.constructor.name||"Object";return E}}function Sn(c){try{return er(c),!1}catch{return!0}}function er(c){return""+c}function tr(c){if(Sn(c))return j("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",Rn(c)),er(c)}var Se=N.ReactCurrentOwner,_n={key:!0,ref:!0,__self:!0,__source:!0},rr,nr,bt;bt={};function An(c){if(Re.call(c,"ref")){var g=Object.getOwnPropertyDescriptor(c,"ref").get;if(g&&g.isReactWarning)return!1}return c.ref!==void 0}function Tn(c){if(Re.call(c,"key")){var g=Object.getOwnPropertyDescriptor(c,"key").get;if(g&&g.isReactWarning)return!1}return c.key!==void 0}function Cn(c,g){if(typeof c.ref=="string"&&Se.current&&g&&Se.current.stateNode!==g){var E=M(Se.current.type);bt[E]||(j('Component "%s" contains the string ref "%s". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',M(Se.current.type),c.ref),bt[E]=!0)}}function On(c,g){{var E=function(){rr||(rr=!0,j("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",g))};E.isReactWarning=!0,Object.defineProperty(c,"key",{get:E,configurable:!0})}}function Vn(c,g){{var E=function(){nr||(nr=!0,j("%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",g))};E.isReactWarning=!0,Object.defineProperty(c,"ref",{get:E,configurable:!0})}}var Ln=function(c,g,E,w,V,B,O){var A={$$typeof:e,type:c,key:g,ref:E,props:O,_owner:B};return A._store={},Object.defineProperty(A._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(A,"_self",{configurable:!1,enumerable:!1,writable:!1,value:w}),Object.defineProperty(A,"_source",{configurable:!1,enumerable:!1,writable:!1,value:V}),Object.freeze&&(Object.freeze(A.props),Object.freeze(A)),A};function Bn(c,g,E,w,V){{var B,O={},A=null,J=null;E!==void 0&&(tr(E),A=""+E),Tn(g)&&(tr(g.key),A=""+g.key),An(g)&&(J=g.ref,Cn(g,V));for(B in g)Re.call(g,B)&&!_n.hasOwnProperty(B)&&(O[B]=g[B]);if(c&&c.defaultProps){var U=c.defaultProps;for(B in U)O[B]===void 0&&(O[B]=U[B])}if(A||J){var q=typeof c=="function"?c.displayName||c.name||"Unknown":c;A&&On(O,q),J&&Vn(O,q)}return Ln(c,A,J,V,w,Se.current,O)}}var gt=N.ReactCurrentOwner,sr=N.ReactDebugCurrentFrame;function Ne(c){if(c){var g=c._owner,E=Me(c.type,c._source,g?g.type:null);sr.setExtraStackFrame(E)}else sr.setExtraStackFrame(null)}var Nt;Nt=!1;function yt(c){return typeof c=="object"&&c!==null&&c.$$typeof===e}function ir(){{if(gt.current){var c=M(gt.current.type);if(c)return`

Check the render method of \``+c+"`."}return""}}function Fn(c){{if(c!==void 0){var g=c.fileName.replace(/^.*[\\\/]/,""),E=c.lineNumber;return`

Check your code at `+g+":"+E+"."}return""}}var or={};function In(c){{var g=ir();if(!g){var E=typeof c=="string"?c:c.displayName||c.name;E&&(g=`

Check the top-level render call using <`+E+">.")}return g}}function ar(c,g){{if(!c._store||c._store.validated||c.key!=null)return;c._store.validated=!0;var E=In(g);if(or[E])return;or[E]=!0;var w="";c&&c._owner&&c._owner!==gt.current&&(w=" It was passed a child from "+M(c._owner.type)+"."),Ne(c),j('Each child in a list should have a unique "key" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',E,w),Ne(null)}}function lr(c,g){{if(typeof c!="object")return;if(vt(c))for(var E=0;E<c.length;E++){var w=c[E];yt(w)&&ar(w,g)}else if(yt(c))c._store&&(c._store.validated=!0);else if(c){var V=v(c);if(typeof V=="function"&&V!==c.entries)for(var B=V.call(c),O;!(O=B.next()).done;)yt(O.value)&&ar(O.value,g)}}}function Un(c){{var g=c.type;if(g==null||typeof g=="string")return;var E;if(typeof g=="function")E=g.propTypes;else if(typeof g=="object"&&(g.$$typeof===u||g.$$typeof===h))E=g.propTypes;else return;if(E){var w=M(g);kn(E,c.props,"prop",w,c)}else if(g.PropTypes!==void 0&&!Nt){Nt=!0;var V=M(g);j("Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?",V||"Unknown")}typeof g.getDefaultProps=="function"&&!g.getDefaultProps.isReactClassApproved&&j("getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}function qn(c){{for(var g=Object.keys(c.props),E=0;E<g.length;E++){var w=g[E];if(w!=="children"&&w!=="key"){Ne(c),j("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",w),Ne(null);break}}c.ref!==null&&(Ne(c),j("Invalid attribute `ref` supplied to `React.Fragment`."),Ne(null))}}var cr={};function $n(c,g,E,w,V,B){{var O=ue(c);if(!O){var A="";(c===void 0||typeof c=="object"&&c!==null&&Object.keys(c).length===0)&&(A+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var J=Fn(V);J?A+=J:A+=ir();var U;c===null?U="null":vt(c)?U="array":c!==void 0&&c.$$typeof===e?(U="<"+(M(c.type)||"Unknown")+" />",A=" Did you accidentally export a JSX literal instead of a component?"):U=typeof c,j("React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",U,A)}var q=Bn(c,g,E,V,B);if(q==null)return q;if(O){var Q=g.children;if(Q!==void 0)if(w)if(vt(Q)){for(var ye=0;ye<Q.length;ye++)lr(Q[ye],c);Object.freeze&&Object.freeze(Q)}else j("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else lr(Q,c)}if(Re.call(g,"key")){var fe=M(c),z=Object.keys(g).filter(function(Wn){return Wn!=="key"}),jt=z.length>0?"{key: someKey, "+z.join(": ..., ")+": ...}":"{key: someKey}";if(!cr[fe+jt]){var Kn=z.length>0?"{"+z.join(": ..., ")+": ...}":"{}";j(`A props object containing a "key" prop is being spread into JSX:
  let props = %s;
  <%s {...props} />
React keys must be passed directly to JSX without using spread:
  let props = %s;
  <%s key={someKey} {...props} />`,jt,fe,Kn,fe),cr[fe+jt]=!0}}return c===n?qn(q):Un(q),q}}var Mn=$n;We.Fragment=n,We.jsxDEV=Mn})(),We}var dr;function ns(){return dr||(dr=1,Et.exports=rs()),Et.exports}var a=ns(),He={},fr;function ss(){if(fr)return He;fr=1;var r=Jn();{var e=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;He.createRoot=function(t,n){e.usingClientEntryPoint=!0;try{return r.createRoot(t,n)}finally{e.usingClientEntryPoint=!1}},He.hydrateRoot=function(t,n,s){e.usingClientEntryPoint=!0;try{return r.hydrateRoot(t,n,s)}finally{e.usingClientEntryPoint=!1}}}return He}var is=ss();const os=zn(is);function Br(r,e){return function(){return r.apply(e,arguments)}}const{toString:as}=Object.prototype,{getPrototypeOf:qt}=Object,{iterator:it,toStringTag:Fr}=Symbol,ot=(r=>e=>{const t=as.call(e);return r[t]||(r[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),ne=r=>(r=r.toLowerCase(),e=>ot(e)===r),at=r=>e=>typeof e===r,{isArray:De}=Array,Ee=at("undefined");function Oe(r){return r!==null&&!Ee(r)&&r.constructor!==null&&!Ee(r.constructor)&&Y(r.constructor.isBuffer)&&r.constructor.isBuffer(r)}const Ir=ne("ArrayBuffer");function ls(r){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(r):e=r&&r.buffer&&Ir(r.buffer),e}const cs=at("string"),Y=at("function"),Ur=at("number"),Ve=r=>r!==null&&typeof r=="object",us=r=>r===!0||r===!1,Xe=r=>{if(ot(r)!=="object")return!1;const e=qt(r);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Fr in r)&&!(it in r)},ds=r=>{if(!Ve(r)||Oe(r))return!1;try{return Object.keys(r).length===0&&Object.getPrototypeOf(r)===Object.prototype}catch{return!1}},fs=ne("Date"),ms=ne("File"),hs=ne("Blob"),ps=ne("FileList"),vs=r=>Ve(r)&&Y(r.pipe),bs=r=>{let e;return r&&(typeof FormData=="function"&&r instanceof FormData||Y(r.append)&&((e=ot(r))==="formdata"||e==="object"&&Y(r.toString)&&r.toString()==="[object FormData]"))},gs=ne("URLSearchParams"),[Ns,ys,js,Es]=["ReadableStream","Request","Response","Headers"].map(ne),Ds=r=>r.trim?r.trim():r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Le(r,e,{allOwnKeys:t=!1}={}){if(r===null||typeof r>"u")return;let n,s;if(typeof r!="object"&&(r=[r]),De(r))for(n=0,s=r.length;n<s;n++)e.call(null,r[n],n,r);else{if(Oe(r))return;const i=t?Object.getOwnPropertyNames(r):Object.keys(r),o=i.length;let l;for(n=0;n<o;n++)l=i[n],e.call(null,r[l],l,r)}}function qr(r,e){if(Oe(r))return null;e=e.toLowerCase();const t=Object.keys(r);let n=t.length,s;for(;n-- >0;)if(s=t[n],e===s.toLowerCase())return s;return null}const me=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,$r=r=>!Ee(r)&&r!==me;function _t(){const{caseless:r,skipUndefined:e}=$r(this)&&this||{},t={},n=(s,i)=>{const o=r&&qr(t,i)||i;Xe(t[o])&&Xe(s)?t[o]=_t(t[o],s):Xe(s)?t[o]=_t({},s):De(s)?t[o]=s.slice():(!e||!Ee(s))&&(t[o]=s)};for(let s=0,i=arguments.length;s<i;s++)arguments[s]&&Le(arguments[s],n);return t}const xs=(r,e,t,{allOwnKeys:n}={})=>(Le(e,(s,i)=>{t&&Y(s)?r[i]=Br(s,t):r[i]=s},{allOwnKeys:n}),r),ws=r=>(r.charCodeAt(0)===65279&&(r=r.slice(1)),r),ks=(r,e,t,n)=>{r.prototype=Object.create(e.prototype,n),r.prototype.constructor=r,Object.defineProperty(r,"super",{value:e.prototype}),t&&Object.assign(r.prototype,t)},Ps=(r,e,t,n)=>{let s,i,o;const l={};if(e=e||{},r==null)return e;do{for(s=Object.getOwnPropertyNames(r),i=s.length;i-- >0;)o=s[i],(!n||n(o,r,e))&&!l[o]&&(e[o]=r[o],l[o]=!0);r=t!==!1&&qt(r)}while(r&&(!t||t(r,e))&&r!==Object.prototype);return e},Rs=(r,e,t)=>{r=String(r),(t===void 0||t>r.length)&&(t=r.length),t-=e.length;const n=r.indexOf(e,t);return n!==-1&&n===t},Ss=r=>{if(!r)return null;if(De(r))return r;let e=r.length;if(!Ur(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=r[e];return t},_s=(r=>e=>r&&e instanceof r)(typeof Uint8Array<"u"&&qt(Uint8Array)),As=(r,e)=>{const n=(r&&r[it]).call(r);let s;for(;(s=n.next())&&!s.done;){const i=s.value;e.call(r,i[0],i[1])}},Ts=(r,e)=>{let t;const n=[];for(;(t=r.exec(e))!==null;)n.push(t);return n},Cs=ne("HTMLFormElement"),Os=r=>r.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,n,s){return n.toUpperCase()+s}),mr=(({hasOwnProperty:r})=>(e,t)=>r.call(e,t))(Object.prototype),Vs=ne("RegExp"),Mr=(r,e)=>{const t=Object.getOwnPropertyDescriptors(r),n={};Le(t,(s,i)=>{let o;(o=e(s,i,r))!==!1&&(n[i]=o||s)}),Object.defineProperties(r,n)},Ls=r=>{Mr(r,(e,t)=>{if(Y(r)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const n=r[t];if(Y(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},Bs=(r,e)=>{const t={},n=s=>{s.forEach(i=>{t[i]=!0})};return De(r)?n(r):n(String(r).split(e)),t},Fs=()=>{},Is=(r,e)=>r!=null&&Number.isFinite(r=+r)?r:e;function Us(r){return!!(r&&Y(r.append)&&r[Fr]==="FormData"&&r[it])}const qs=r=>{const e=new Array(10),t=(n,s)=>{if(Ve(n)){if(e.indexOf(n)>=0)return;if(Oe(n))return n;if(!("toJSON"in n)){e[s]=n;const i=De(n)?[]:{};return Le(n,(o,l)=>{const u=t(o,s+1);!Ee(u)&&(i[l]=u)}),e[s]=void 0,i}}return n};return t(r,0)},$s=ne("AsyncFunction"),Ms=r=>r&&(Ve(r)||Y(r))&&Y(r.then)&&Y(r.catch),Kr=((r,e)=>r?setImmediate:e?((t,n)=>(me.addEventListener("message",({source:s,data:i})=>{s===me&&i===t&&n.length&&n.shift()()},!1),s=>{n.push(s),me.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",Y(me.postMessage)),Ks=typeof queueMicrotask<"u"?queueMicrotask.bind(me):typeof process<"u"&&process.nextTick||Kr,Ws=r=>r!=null&&Y(r[it]),f={isArray:De,isArrayBuffer:Ir,isBuffer:Oe,isFormData:bs,isArrayBufferView:ls,isString:cs,isNumber:Ur,isBoolean:us,isObject:Ve,isPlainObject:Xe,isEmptyObject:ds,isReadableStream:Ns,isRequest:ys,isResponse:js,isHeaders:Es,isUndefined:Ee,isDate:fs,isFile:ms,isBlob:hs,isRegExp:Vs,isFunction:Y,isStream:vs,isURLSearchParams:gs,isTypedArray:_s,isFileList:ps,forEach:Le,merge:_t,extend:xs,trim:Ds,stripBOM:ws,inherits:ks,toFlatObject:Ps,kindOf:ot,kindOfTest:ne,endsWith:Rs,toArray:Ss,forEachEntry:As,matchAll:Ts,isHTMLForm:Cs,hasOwnProperty:mr,hasOwnProp:mr,reduceDescriptors:Mr,freezeMethods:Ls,toObjectSet:Bs,toCamelCase:Os,noop:Fs,toFiniteNumber:Is,findKey:qr,global:me,isContextDefined:$r,isSpecCompliantForm:Us,toJSONObject:qs,isAsyncFn:$s,isThenable:Ms,setImmediate:Kr,asap:Ks,isIterable:Ws};function P(r,e,t,n,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=r,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),n&&(this.request=n),s&&(this.response=s,this.status=s.status?s.status:null)}f.inherits(P,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:f.toJSONObject(this.config),code:this.code,status:this.status}}});const Wr=P.prototype,Hr={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(r=>{Hr[r]={value:r}});Object.defineProperties(P,Hr);Object.defineProperty(Wr,"isAxiosError",{value:!0});P.from=(r,e,t,n,s,i)=>{const o=Object.create(Wr);f.toFlatObject(r,o,function(d){return d!==Error.prototype},m=>m!=="isAxiosError");const l=r&&r.message?r.message:"Error",u=e==null&&r?r.code:e;return P.call(o,l,u,t,n,s),r&&o.cause==null&&Object.defineProperty(o,"cause",{value:r,configurable:!0}),o.name=r&&r.name||"Error",i&&Object.assign(o,i),o};const Hs=null;function At(r){return f.isPlainObject(r)||f.isArray(r)}function Jr(r){return f.endsWith(r,"[]")?r.slice(0,-2):r}function hr(r,e,t){return r?r.concat(e).map(function(s,i){return s=Jr(s),!t&&i?"["+s+"]":s}).join(t?".":""):e}function Js(r){return f.isArray(r)&&!r.some(At)}const zs=f.toFlatObject(f,{},null,function(e){return/^is[A-Z]/.test(e)});function lt(r,e,t){if(!f.isObject(r))throw new TypeError("target must be an object");e=e||new FormData,t=f.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(b,v){return!f.isUndefined(v[b])});const n=t.metaTokens,s=t.visitor||d,i=t.dots,o=t.indexes,u=(t.Blob||typeof Blob<"u"&&Blob)&&f.isSpecCompliantForm(e);if(!f.isFunction(s))throw new TypeError("visitor must be a function");function m(p){if(p===null)return"";if(f.isDate(p))return p.toISOString();if(f.isBoolean(p))return p.toString();if(!u&&f.isBlob(p))throw new P("Blob is not supported. Use a Buffer instead.");return f.isArrayBuffer(p)||f.isTypedArray(p)?u&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function d(p,b,v){let N=p;if(p&&!v&&typeof p=="object"){if(f.endsWith(b,"{}"))b=n?b:b.slice(0,-2),p=JSON.stringify(p);else if(f.isArray(p)&&Js(p)||(f.isFileList(p)||f.endsWith(b,"[]"))&&(N=f.toArray(p)))return b=Jr(b),N.forEach(function(S,k){!(f.isUndefined(S)||S===null)&&e.append(o===!0?hr([b],k,i):o===null?b:b+"[]",m(S))}),!1}return At(p)?!0:(e.append(hr(v,b,i),m(p)),!1)}const h=[],y=Object.assign(zs,{defaultVisitor:d,convertValue:m,isVisitable:At});function x(p,b){if(!f.isUndefined(p)){if(h.indexOf(p)!==-1)throw Error("Circular reference detected in "+b.join("."));h.push(p),f.forEach(p,function(N,j){(!(f.isUndefined(N)||N===null)&&s.call(e,N,f.isString(j)?j.trim():j,b,y))===!0&&x(N,b?b.concat(j):[j])}),h.pop()}}if(!f.isObject(r))throw new TypeError("data must be an object");return x(r),e}function pr(r){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(r).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function $t(r,e){this._pairs=[],r&&lt(r,this,e)}const zr=$t.prototype;zr.append=function(e,t){this._pairs.push([e,t])};zr.toString=function(e){const t=e?function(n){return e.call(this,n,pr)}:pr;return this._pairs.map(function(s){return t(s[0])+"="+t(s[1])},"").join("&")};function Ys(r){return encodeURIComponent(r).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Yr(r,e,t){if(!e)return r;const n=t&&t.encode||Ys;f.isFunction(t)&&(t={serialize:t});const s=t&&t.serialize;let i;if(s?i=s(e,t):i=f.isURLSearchParams(e)?e.toString():new $t(e,t).toString(n),i){const o=r.indexOf("#");o!==-1&&(r=r.slice(0,o)),r+=(r.indexOf("?")===-1?"?":"&")+i}return r}class vr{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){f.forEach(this.handlers,function(n){n!==null&&e(n)})}}const Xr={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Xs=typeof URLSearchParams<"u"?URLSearchParams:$t,Gs=typeof FormData<"u"?FormData:null,Qs=typeof Blob<"u"?Blob:null,Zs={isBrowser:!0,classes:{URLSearchParams:Xs,FormData:Gs,Blob:Qs},protocols:["http","https","file","blob","url","data"]},Mt=typeof window<"u"&&typeof document<"u",Tt=typeof navigator=="object"&&navigator||void 0,ei=Mt&&(!Tt||["ReactNative","NativeScript","NS"].indexOf(Tt.product)<0),ti=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",ri=Mt&&window.location.href||"http://localhost",ni=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Mt,hasStandardBrowserEnv:ei,hasStandardBrowserWebWorkerEnv:ti,navigator:Tt,origin:ri},Symbol.toStringTag,{value:"Module"})),W={...ni,...Zs};function si(r,e){return lt(r,new W.classes.URLSearchParams,{visitor:function(t,n,s,i){return W.isNode&&f.isBuffer(t)?(this.append(n,t.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...e})}function ii(r){return f.matchAll(/\w+|\[(\w*)]/g,r).map(e=>e[0]==="[]"?"":e[1]||e[0])}function oi(r){const e={},t=Object.keys(r);let n;const s=t.length;let i;for(n=0;n<s;n++)i=t[n],e[i]=r[i];return e}function Gr(r){function e(t,n,s,i){let o=t[i++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),u=i>=t.length;return o=!o&&f.isArray(s)?s.length:o,u?(f.hasOwnProp(s,o)?s[o]=[s[o],n]:s[o]=n,!l):((!s[o]||!f.isObject(s[o]))&&(s[o]=[]),e(t,n,s[o],i)&&f.isArray(s[o])&&(s[o]=oi(s[o])),!l)}if(f.isFormData(r)&&f.isFunction(r.entries)){const t={};return f.forEachEntry(r,(n,s)=>{e(ii(n),s,t,0)}),t}return null}function ai(r,e,t){if(f.isString(r))try{return(e||JSON.parse)(r),f.trim(r)}catch(n){if(n.name!=="SyntaxError")throw n}return(t||JSON.stringify)(r)}const Be={transitional:Xr,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",s=n.indexOf("application/json")>-1,i=f.isObject(e);if(i&&f.isHTMLForm(e)&&(e=new FormData(e)),f.isFormData(e))return s?JSON.stringify(Gr(e)):e;if(f.isArrayBuffer(e)||f.isBuffer(e)||f.isStream(e)||f.isFile(e)||f.isBlob(e)||f.isReadableStream(e))return e;if(f.isArrayBufferView(e))return e.buffer;if(f.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return si(e,this.formSerializer).toString();if((l=f.isFileList(e))||n.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return lt(l?{"files[]":e}:e,u&&new u,this.formSerializer)}}return i||s?(t.setContentType("application/json",!1),ai(e)):e}],transformResponse:[function(e){const t=this.transitional||Be.transitional,n=t&&t.forcedJSONParsing,s=this.responseType==="json";if(f.isResponse(e)||f.isReadableStream(e))return e;if(e&&f.isString(e)&&(n&&!this.responseType||s)){const o=!(t&&t.silentJSONParsing)&&s;try{return JSON.parse(e,this.parseReviver)}catch(l){if(o)throw l.name==="SyntaxError"?P.from(l,P.ERR_BAD_RESPONSE,this,null,this.response):l}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:W.classes.FormData,Blob:W.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};f.forEach(["delete","get","head","post","put","patch"],r=>{Be.headers[r]={}});const li=f.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),ci=r=>{const e={};let t,n,s;return r&&r.split(`
`).forEach(function(o){s=o.indexOf(":"),t=o.substring(0,s).trim().toLowerCase(),n=o.substring(s+1).trim(),!(!t||e[t]&&li[t])&&(t==="set-cookie"?e[t]?e[t].push(n):e[t]=[n]:e[t]=e[t]?e[t]+", "+n:n)}),e},br=Symbol("internals");function _e(r){return r&&String(r).trim().toLowerCase()}function Ge(r){return r===!1||r==null?r:f.isArray(r)?r.map(Ge):String(r)}function ui(r){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=t.exec(r);)e[n[1]]=n[2];return e}const di=r=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(r.trim());function Dt(r,e,t,n,s){if(f.isFunction(n))return n.call(this,e,t);if(s&&(e=t),!!f.isString(e)){if(f.isString(n))return e.indexOf(n)!==-1;if(f.isRegExp(n))return n.test(e)}}function fi(r){return r.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,n)=>t.toUpperCase()+n)}function mi(r,e){const t=f.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(r,n+t,{value:function(s,i,o){return this[n].call(this,e,s,i,o)},configurable:!0})})}let X=class{constructor(e){e&&this.set(e)}set(e,t,n){const s=this;function i(l,u,m){const d=_e(u);if(!d)throw new Error("header name must be a non-empty string");const h=f.findKey(s,d);(!h||s[h]===void 0||m===!0||m===void 0&&s[h]!==!1)&&(s[h||u]=Ge(l))}const o=(l,u)=>f.forEach(l,(m,d)=>i(m,d,u));if(f.isPlainObject(e)||e instanceof this.constructor)o(e,t);else if(f.isString(e)&&(e=e.trim())&&!di(e))o(ci(e),t);else if(f.isObject(e)&&f.isIterable(e)){let l={},u,m;for(const d of e){if(!f.isArray(d))throw TypeError("Object iterator must return a key-value pair");l[m=d[0]]=(u=l[m])?f.isArray(u)?[...u,d[1]]:[u,d[1]]:d[1]}o(l,t)}else e!=null&&i(t,e,n);return this}get(e,t){if(e=_e(e),e){const n=f.findKey(this,e);if(n){const s=this[n];if(!t)return s;if(t===!0)return ui(s);if(f.isFunction(t))return t.call(this,s,n);if(f.isRegExp(t))return t.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=_e(e),e){const n=f.findKey(this,e);return!!(n&&this[n]!==void 0&&(!t||Dt(this,this[n],n,t)))}return!1}delete(e,t){const n=this;let s=!1;function i(o){if(o=_e(o),o){const l=f.findKey(n,o);l&&(!t||Dt(n,n[l],l,t))&&(delete n[l],s=!0)}}return f.isArray(e)?e.forEach(i):i(e),s}clear(e){const t=Object.keys(this);let n=t.length,s=!1;for(;n--;){const i=t[n];(!e||Dt(this,this[i],i,e,!0))&&(delete this[i],s=!0)}return s}normalize(e){const t=this,n={};return f.forEach(this,(s,i)=>{const o=f.findKey(n,i);if(o){t[o]=Ge(s),delete t[i];return}const l=e?fi(i):String(i).trim();l!==i&&delete t[i],t[l]=Ge(s),n[l]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return f.forEach(this,(n,s)=>{n!=null&&n!==!1&&(t[s]=e&&f.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const n=new this(e);return t.forEach(s=>n.set(s)),n}static accessor(e){const n=(this[br]=this[br]={accessors:{}}).accessors,s=this.prototype;function i(o){const l=_e(o);n[l]||(mi(s,o),n[l]=!0)}return f.isArray(e)?e.forEach(i):i(e),this}};X.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);f.reduceDescriptors(X.prototype,({value:r},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>r,set(n){this[t]=n}}});f.freezeMethods(X);function xt(r,e){const t=this||Be,n=e||t,s=X.from(n.headers);let i=n.data;return f.forEach(r,function(l){i=l.call(t,i,s.normalize(),e?e.status:void 0)}),s.normalize(),i}function Qr(r){return!!(r&&r.__CANCEL__)}function xe(r,e,t){P.call(this,r??"canceled",P.ERR_CANCELED,e,t),this.name="CanceledError"}f.inherits(xe,P,{__CANCEL__:!0});function Zr(r,e,t){const n=t.config.validateStatus;!t.status||!n||n(t.status)?r(t):e(new P("Request failed with status code "+t.status,[P.ERR_BAD_REQUEST,P.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function hi(r){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(r);return e&&e[1]||""}function pi(r,e){r=r||10;const t=new Array(r),n=new Array(r);let s=0,i=0,o;return e=e!==void 0?e:1e3,function(u){const m=Date.now(),d=n[i];o||(o=m),t[s]=u,n[s]=m;let h=i,y=0;for(;h!==s;)y+=t[h++],h=h%r;if(s=(s+1)%r,s===i&&(i=(i+1)%r),m-o<e)return;const x=d&&m-d;return x?Math.round(y*1e3/x):void 0}}function vi(r,e){let t=0,n=1e3/e,s,i;const o=(m,d=Date.now())=>{t=d,s=null,i&&(clearTimeout(i),i=null),r(...m)};return[(...m)=>{const d=Date.now(),h=d-t;h>=n?o(m,d):(s=m,i||(i=setTimeout(()=>{i=null,o(s)},n-h)))},()=>s&&o(s)]}const nt=(r,e,t=3)=>{let n=0;const s=pi(50,250);return vi(i=>{const o=i.loaded,l=i.lengthComputable?i.total:void 0,u=o-n,m=s(u),d=o<=l;n=o;const h={loaded:o,total:l,progress:l?o/l:void 0,bytes:u,rate:m||void 0,estimated:m&&l&&d?(l-o)/m:void 0,event:i,lengthComputable:l!=null,[e?"download":"upload"]:!0};r(h)},t)},gr=(r,e)=>{const t=r!=null;return[n=>e[0]({lengthComputable:t,total:r,loaded:n}),e[1]]},Nr=r=>(...e)=>f.asap(()=>r(...e)),bi=W.hasStandardBrowserEnv?((r,e)=>t=>(t=new URL(t,W.origin),r.protocol===t.protocol&&r.host===t.host&&(e||r.port===t.port)))(new URL(W.origin),W.navigator&&/(msie|trident)/i.test(W.navigator.userAgent)):()=>!0,gi=W.hasStandardBrowserEnv?{write(r,e,t,n,s,i,o){if(typeof document>"u")return;const l=[`${r}=${encodeURIComponent(e)}`];f.isNumber(t)&&l.push(`expires=${new Date(t).toUTCString()}`),f.isString(n)&&l.push(`path=${n}`),f.isString(s)&&l.push(`domain=${s}`),i===!0&&l.push("secure"),f.isString(o)&&l.push(`SameSite=${o}`),document.cookie=l.join("; ")},read(r){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+r+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(r){this.write(r,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function Ni(r){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(r)}function yi(r,e){return e?r.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):r}function en(r,e,t){let n=!Ni(e);return r&&(n||t==!1)?yi(r,e):e}const yr=r=>r instanceof X?{...r}:r;function pe(r,e){e=e||{};const t={};function n(m,d,h,y){return f.isPlainObject(m)&&f.isPlainObject(d)?f.merge.call({caseless:y},m,d):f.isPlainObject(d)?f.merge({},d):f.isArray(d)?d.slice():d}function s(m,d,h,y){if(f.isUndefined(d)){if(!f.isUndefined(m))return n(void 0,m,h,y)}else return n(m,d,h,y)}function i(m,d){if(!f.isUndefined(d))return n(void 0,d)}function o(m,d){if(f.isUndefined(d)){if(!f.isUndefined(m))return n(void 0,m)}else return n(void 0,d)}function l(m,d,h){if(h in e)return n(m,d);if(h in r)return n(void 0,m)}const u={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(m,d,h)=>s(yr(m),yr(d),h,!0)};return f.forEach(Object.keys({...r,...e}),function(d){const h=u[d]||s,y=h(r[d],e[d],d);f.isUndefined(y)&&h!==l||(t[d]=y)}),t}const tn=r=>{const e=pe({},r);let{data:t,withXSRFToken:n,xsrfHeaderName:s,xsrfCookieName:i,headers:o,auth:l}=e;if(e.headers=o=X.from(o),e.url=Yr(en(e.baseURL,e.url,e.allowAbsoluteUrls),r.params,r.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),f.isFormData(t)){if(W.hasStandardBrowserEnv||W.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(f.isFunction(t.getHeaders)){const u=t.getHeaders(),m=["content-type","content-length"];Object.entries(u).forEach(([d,h])=>{m.includes(d.toLowerCase())&&o.set(d,h)})}}if(W.hasStandardBrowserEnv&&(n&&f.isFunction(n)&&(n=n(e)),n||n!==!1&&bi(e.url))){const u=s&&i&&gi.read(i);u&&o.set(s,u)}return e},ji=typeof XMLHttpRequest<"u",Ei=ji&&function(r){return new Promise(function(t,n){const s=tn(r);let i=s.data;const o=X.from(s.headers).normalize();let{responseType:l,onUploadProgress:u,onDownloadProgress:m}=s,d,h,y,x,p;function b(){x&&x(),p&&p(),s.cancelToken&&s.cancelToken.unsubscribe(d),s.signal&&s.signal.removeEventListener("abort",d)}let v=new XMLHttpRequest;v.open(s.method.toUpperCase(),s.url,!0),v.timeout=s.timeout;function N(){if(!v)return;const S=X.from("getAllResponseHeaders"in v&&v.getAllResponseHeaders()),C={data:!l||l==="text"||l==="json"?v.responseText:v.response,status:v.status,statusText:v.statusText,headers:S,config:r,request:v};Zr(function(_){t(_),b()},function(_){n(_),b()},C),v=null}"onloadend"in v?v.onloadend=N:v.onreadystatechange=function(){!v||v.readyState!==4||v.status===0&&!(v.responseURL&&v.responseURL.indexOf("file:")===0)||setTimeout(N)},v.onabort=function(){v&&(n(new P("Request aborted",P.ECONNABORTED,r,v)),v=null)},v.onerror=function(k){const C=k&&k.message?k.message:"Network Error",L=new P(C,P.ERR_NETWORK,r,v);L.event=k||null,n(L),v=null},v.ontimeout=function(){let k=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const C=s.transitional||Xr;s.timeoutErrorMessage&&(k=s.timeoutErrorMessage),n(new P(k,C.clarifyTimeoutError?P.ETIMEDOUT:P.ECONNABORTED,r,v)),v=null},i===void 0&&o.setContentType(null),"setRequestHeader"in v&&f.forEach(o.toJSON(),function(k,C){v.setRequestHeader(C,k)}),f.isUndefined(s.withCredentials)||(v.withCredentials=!!s.withCredentials),l&&l!=="json"&&(v.responseType=s.responseType),m&&([y,p]=nt(m,!0),v.addEventListener("progress",y)),u&&v.upload&&([h,x]=nt(u),v.upload.addEventListener("progress",h),v.upload.addEventListener("loadend",x)),(s.cancelToken||s.signal)&&(d=S=>{v&&(n(!S||S.type?new xe(null,r,v):S),v.abort(),v=null)},s.cancelToken&&s.cancelToken.subscribe(d),s.signal&&(s.signal.aborted?d():s.signal.addEventListener("abort",d)));const j=hi(s.url);if(j&&W.protocols.indexOf(j)===-1){n(new P("Unsupported protocol "+j+":",P.ERR_BAD_REQUEST,r));return}v.send(i||null)})},Di=(r,e)=>{const{length:t}=r=r?r.filter(Boolean):[];if(e||t){let n=new AbortController,s;const i=function(m){if(!s){s=!0,l();const d=m instanceof Error?m:this.reason;n.abort(d instanceof P?d:new xe(d instanceof Error?d.message:d))}};let o=e&&setTimeout(()=>{o=null,i(new P(`timeout ${e} of ms exceeded`,P.ETIMEDOUT))},e);const l=()=>{r&&(o&&clearTimeout(o),o=null,r.forEach(m=>{m.unsubscribe?m.unsubscribe(i):m.removeEventListener("abort",i)}),r=null)};r.forEach(m=>m.addEventListener("abort",i));const{signal:u}=n;return u.unsubscribe=()=>f.asap(l),u}},xi=function*(r,e){let t=r.byteLength;if(t<e){yield r;return}let n=0,s;for(;n<t;)s=n+e,yield r.slice(n,s),n=s},wi=async function*(r,e){for await(const t of ki(r))yield*xi(t,e)},ki=async function*(r){if(r[Symbol.asyncIterator]){yield*r;return}const e=r.getReader();try{for(;;){const{done:t,value:n}=await e.read();if(t)break;yield n}}finally{await e.cancel()}},jr=(r,e,t,n)=>{const s=wi(r,e);let i=0,o,l=u=>{o||(o=!0,n&&n(u))};return new ReadableStream({async pull(u){try{const{done:m,value:d}=await s.next();if(m){l(),u.close();return}let h=d.byteLength;if(t){let y=i+=h;t(y)}u.enqueue(new Uint8Array(d))}catch(m){throw l(m),m}},cancel(u){return l(u),s.return()}},{highWaterMark:2})},Er=64*1024,{isFunction:Je}=f,Pi=(({Request:r,Response:e})=>({Request:r,Response:e}))(f.global),{ReadableStream:Dr,TextEncoder:xr}=f.global,wr=(r,...e)=>{try{return!!r(...e)}catch{return!1}},Ri=r=>{r=f.merge.call({skipUndefined:!0},Pi,r);const{fetch:e,Request:t,Response:n}=r,s=e?Je(e):typeof fetch=="function",i=Je(t),o=Je(n);if(!s)return!1;const l=s&&Je(Dr),u=s&&(typeof xr=="function"?(p=>b=>p.encode(b))(new xr):async p=>new Uint8Array(await new t(p).arrayBuffer())),m=i&&l&&wr(()=>{let p=!1;const b=new t(W.origin,{body:new Dr,method:"POST",get duplex(){return p=!0,"half"}}).headers.has("Content-Type");return p&&!b}),d=o&&l&&wr(()=>f.isReadableStream(new n("").body)),h={stream:d&&(p=>p.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(p=>{!h[p]&&(h[p]=(b,v)=>{let N=b&&b[p];if(N)return N.call(b);throw new P(`Response type '${p}' is not supported`,P.ERR_NOT_SUPPORT,v)})});const y=async p=>{if(p==null)return 0;if(f.isBlob(p))return p.size;if(f.isSpecCompliantForm(p))return(await new t(W.origin,{method:"POST",body:p}).arrayBuffer()).byteLength;if(f.isArrayBufferView(p)||f.isArrayBuffer(p))return p.byteLength;if(f.isURLSearchParams(p)&&(p=p+""),f.isString(p))return(await u(p)).byteLength},x=async(p,b)=>{const v=f.toFiniteNumber(p.getContentLength());return v??y(b)};return async p=>{let{url:b,method:v,data:N,signal:j,cancelToken:S,timeout:k,onDownloadProgress:C,onUploadProgress:L,responseType:_,headers:R,withCredentials:F="same-origin",fetchOptions:ue}=tn(p),Fe=e||fetch;_=_?(_+"").toLowerCase():"text";let de=Di([j,S&&S.toAbortSignal()],k),M=null;const H=de&&de.unsubscribe&&(()=>{de.unsubscribe()});let le;try{if(L&&m&&v!=="get"&&v!=="head"&&(le=await x(R,N))!==0){let te=new t(b,{method:"POST",body:N,duplex:"half"}),ae;if(f.isFormData(N)&&(ae=te.headers.get("content-type"))&&R.setContentType(ae),te.body){const[be,ge]=gr(le,nt(Nr(L)));N=jr(te.body,Er,be,ge)}}f.isString(F)||(F=F?"include":"omit");const G=i&&"credentials"in t.prototype,ke={...ue,signal:de,method:v.toUpperCase(),headers:R.normalize().toJSON(),body:N,duplex:"half",credentials:G?F:void 0};M=i&&new t(b,ke);let ee=await(i?Fe(M,ue):Fe(b,ke));const Pe=d&&(_==="stream"||_==="response");if(d&&(C||Pe&&H)){const te={};["status","statusText","headers"].forEach(Ue=>{te[Ue]=ee[Ue]});const ae=f.toFiniteNumber(ee.headers.get("content-length")),[be,ge]=C&&gr(ae,nt(Nr(C),!0))||[];ee=new n(jr(ee.body,Er,be,()=>{ge&&ge(),H&&H()}),te)}_=_||"text";let Ie=await h[f.findKey(h,_)||"text"](ee,p);return!Pe&&H&&H(),await new Promise((te,ae)=>{Zr(te,ae,{data:Ie,headers:X.from(ee.headers),status:ee.status,statusText:ee.statusText,config:p,request:M})})}catch(G){throw H&&H(),G&&G.name==="TypeError"&&/Load failed|fetch/i.test(G.message)?Object.assign(new P("Network Error",P.ERR_NETWORK,p,M),{cause:G.cause||G}):P.from(G,G&&G.code,p,M)}}},Si=new Map,rn=r=>{let e=r&&r.env||{};const{fetch:t,Request:n,Response:s}=e,i=[n,s,t];let o=i.length,l=o,u,m,d=Si;for(;l--;)u=i[l],m=d.get(u),m===void 0&&d.set(u,m=l?new Map:Ri(e)),d=m;return m};rn();const Kt={http:Hs,xhr:Ei,fetch:{get:rn}};f.forEach(Kt,(r,e)=>{if(r){try{Object.defineProperty(r,"name",{value:e})}catch{}Object.defineProperty(r,"adapterName",{value:e})}});const kr=r=>`- ${r}`,_i=r=>f.isFunction(r)||r===null||r===!1;function Ai(r,e){r=f.isArray(r)?r:[r];const{length:t}=r;let n,s;const i={};for(let o=0;o<t;o++){n=r[o];let l;if(s=n,!_i(n)&&(s=Kt[(l=String(n)).toLowerCase()],s===void 0))throw new P(`Unknown adapter '${l}'`);if(s&&(f.isFunction(s)||(s=s.get(e))))break;i[l||"#"+o]=s}if(!s){const o=Object.entries(i).map(([u,m])=>`adapter ${u} `+(m===!1?"is not supported by the environment":"is not available in the build"));let l=t?o.length>1?`since :
`+o.map(kr).join(`
`):" "+kr(o[0]):"as no adapter specified";throw new P("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return s}const nn={getAdapter:Ai,adapters:Kt};function wt(r){if(r.cancelToken&&r.cancelToken.throwIfRequested(),r.signal&&r.signal.aborted)throw new xe(null,r)}function Pr(r){return wt(r),r.headers=X.from(r.headers),r.data=xt.call(r,r.transformRequest),["post","put","patch"].indexOf(r.method)!==-1&&r.headers.setContentType("application/x-www-form-urlencoded",!1),nn.getAdapter(r.adapter||Be.adapter,r)(r).then(function(n){return wt(r),n.data=xt.call(r,r.transformResponse,n),n.headers=X.from(n.headers),n},function(n){return Qr(n)||(wt(r),n&&n.response&&(n.response.data=xt.call(r,r.transformResponse,n.response),n.response.headers=X.from(n.response.headers))),Promise.reject(n)})}const sn="1.13.1",ct={};["object","boolean","number","function","string","symbol"].forEach((r,e)=>{ct[r]=function(n){return typeof n===r||"a"+(e<1?"n ":" ")+r}});const Rr={};ct.transitional=function(e,t,n){function s(i,o){return"[Axios v"+sn+"] Transitional option '"+i+"'"+o+(n?". "+n:"")}return(i,o,l)=>{if(e===!1)throw new P(s(o," has been removed"+(t?" in "+t:"")),P.ERR_DEPRECATED);return t&&!Rr[o]&&(Rr[o]=!0,console.warn(s(o," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(i,o,l):!0}};ct.spelling=function(e){return(t,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function Ti(r,e,t){if(typeof r!="object")throw new P("options must be an object",P.ERR_BAD_OPTION_VALUE);const n=Object.keys(r);let s=n.length;for(;s-- >0;){const i=n[s],o=e[i];if(o){const l=r[i],u=l===void 0||o(l,i,r);if(u!==!0)throw new P("option "+i+" must be "+u,P.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new P("Unknown option "+i,P.ERR_BAD_OPTION)}}const Qe={assertOptions:Ti,validators:ct},se=Qe.validators;let he=class{constructor(e){this.defaults=e||{},this.interceptors={request:new vr,response:new vr}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{n.stack?i&&!String(n.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+i):n.stack=i}catch{}}throw n}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=pe(this.defaults,t);const{transitional:n,paramsSerializer:s,headers:i}=t;n!==void 0&&Qe.assertOptions(n,{silentJSONParsing:se.transitional(se.boolean),forcedJSONParsing:se.transitional(se.boolean),clarifyTimeoutError:se.transitional(se.boolean)},!1),s!=null&&(f.isFunction(s)?t.paramsSerializer={serialize:s}:Qe.assertOptions(s,{encode:se.function,serialize:se.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),Qe.assertOptions(t,{baseUrl:se.spelling("baseURL"),withXsrfToken:se.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=i&&f.merge(i.common,i[t.method]);i&&f.forEach(["delete","get","head","post","put","patch","common"],p=>{delete i[p]}),t.headers=X.concat(o,i);const l=[];let u=!0;this.interceptors.request.forEach(function(b){typeof b.runWhen=="function"&&b.runWhen(t)===!1||(u=u&&b.synchronous,l.unshift(b.fulfilled,b.rejected))});const m=[];this.interceptors.response.forEach(function(b){m.push(b.fulfilled,b.rejected)});let d,h=0,y;if(!u){const p=[Pr.bind(this),void 0];for(p.unshift(...l),p.push(...m),y=p.length,d=Promise.resolve(t);h<y;)d=d.then(p[h++],p[h++]);return d}y=l.length;let x=t;for(;h<y;){const p=l[h++],b=l[h++];try{x=p(x)}catch(v){b.call(this,v);break}}try{d=Pr.call(this,x)}catch(p){return Promise.reject(p)}for(h=0,y=m.length;h<y;)d=d.then(m[h++],m[h++]);return d}getUri(e){e=pe(this.defaults,e);const t=en(e.baseURL,e.url,e.allowAbsoluteUrls);return Yr(t,e.params,e.paramsSerializer)}};f.forEach(["delete","get","head","options"],function(e){he.prototype[e]=function(t,n){return this.request(pe(n||{},{method:e,url:t,data:(n||{}).data}))}});f.forEach(["post","put","patch"],function(e){function t(n){return function(i,o,l){return this.request(pe(l||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}he.prototype[e]=t(),he.prototype[e+"Form"]=t(!0)});let Ci=class on{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(i){t=i});const n=this;this.promise.then(s=>{if(!n._listeners)return;let i=n._listeners.length;for(;i-- >0;)n._listeners[i](s);n._listeners=null}),this.promise.then=s=>{let i;const o=new Promise(l=>{n.subscribe(l),i=l}).then(s);return o.cancel=function(){n.unsubscribe(i)},o},e(function(i,o,l){n.reason||(n.reason=new xe(i,o,l),t(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=n=>{e.abort(n)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new on(function(s){e=s}),cancel:e}}};function Oi(r){return function(t){return r.apply(null,t)}}function Vi(r){return f.isObject(r)&&r.isAxiosError===!0}const Ct={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Ct).forEach(([r,e])=>{Ct[e]=r});function an(r){const e=new he(r),t=Br(he.prototype.request,e);return f.extend(t,he.prototype,e,{allOwnKeys:!0}),f.extend(t,e,null,{allOwnKeys:!0}),t.create=function(s){return an(pe(r,s))},t}const I=an(Be);I.Axios=he;I.CanceledError=xe;I.CancelToken=Ci;I.isCancel=Qr;I.VERSION=sn;I.toFormData=lt;I.AxiosError=P;I.Cancel=I.CanceledError;I.all=function(e){return Promise.all(e)};I.spread=Oi;I.isAxiosError=Vi;I.mergeConfig=pe;I.AxiosHeaders=X;I.formToJSON=r=>Gr(f.isHTMLForm(r)?new FormData(r):r);I.getAdapter=nn.getAdapter;I.HttpStatusCode=Ct;I.default=I;const{Axios:na,AxiosError:sa,CanceledError:ia,isCancel:oa,CancelToken:aa,VERSION:la,all:ca,Cancel:ua,isAxiosError:da,spread:fa,toFormData:ma,AxiosHeaders:ha,HttpStatusCode:pa,formToJSON:va,getAdapter:ba,mergeConfig:ga}=I,ln=D.createContext(),ve=()=>{const r=D.useContext(ln);if(!r)throw new Error("useAuth must be used within an AuthProvider");return r},Li=({children:r})=>{const[e,t]=D.useState(null),[n,s]=D.useState(!0);D.useEffect(()=>{const d=localStorage.getItem("userInfo");d&&t(JSON.parse(d)),s(!1)},[]);const i="http://localhost:5000/api",m={user:e,loading:n,login:async(d,h)=>{try{const{data:y}=await I.post(`${i}/auth/login`,{email:d,password:h});return localStorage.setItem("userInfo",JSON.stringify(y)),t(y),{success:!0}}catch(y){return{success:!1,message:y.response?.data?.message||"Login failed"}}},register:async(d,h,y)=>{try{const{data:x}=await I.post(`${i}/auth/register`,{name:d,email:h,password:y});return localStorage.setItem("userInfo",JSON.stringify(x)),t(x),{success:!0}}catch(x){return{success:!1,message:x.response?.data?.message||"Registration failed"}}},logout:()=>{localStorage.removeItem("userInfo"),t(null)}};return a.jsxDEV(ln.Provider,{value:m,children:r},void 0,!1,{fileName:"D:/Projects/livekit-video-call/frontend/src/context/AuthContext.jsx",lineNumber:75,columnNumber:10},void 0)},oe=Object.create(null);oe.open="0";oe.close="1";oe.ping="2";oe.pong="3";oe.message="4";oe.upgrade="5";oe.noop="6";const Ze=Object.create(null);Object.keys(oe).forEach(r=>{Ze[oe[r]]=r});const Ot={type:"error",data:"parser error"},cn=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",un=typeof ArrayBuffer=="function",dn=r=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(r):r&&r.buffer instanceof ArrayBuffer,Wt=({type:r,data:e},t,n)=>cn&&e instanceof Blob?t?n(e):Sr(e,n):un&&(e instanceof ArrayBuffer||dn(e))?t?n(e):Sr(new Blob([e]),n):n(oe[r]+(e||"")),Sr=(r,e)=>{const t=new FileReader;return t.onload=function(){const n=t.result.split(",")[1];e("b"+(n||""))},t.readAsDataURL(r)};function _r(r){return r instanceof Uint8Array?r:r instanceof ArrayBuffer?new Uint8Array(r):new Uint8Array(r.buffer,r.byteOffset,r.byteLength)}let kt;function Bi(r,e){if(cn&&r.data instanceof Blob)return r.data.arrayBuffer().then(_r).then(e);if(un&&(r.data instanceof ArrayBuffer||dn(r.data)))return e(_r(r.data));Wt(r,!1,t=>{kt||(kt=new TextEncoder),e(kt.encode(t))})}const Ar="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Te=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let r=0;r<Ar.length;r++)Te[Ar.charCodeAt(r)]=r;const Fi=r=>{let e=r.length*.75,t=r.length,n,s=0,i,o,l,u;r[r.length-1]==="="&&(e--,r[r.length-2]==="="&&e--);const m=new ArrayBuffer(e),d=new Uint8Array(m);for(n=0;n<t;n+=4)i=Te[r.charCodeAt(n)],o=Te[r.charCodeAt(n+1)],l=Te[r.charCodeAt(n+2)],u=Te[r.charCodeAt(n+3)],d[s++]=i<<2|o>>4,d[s++]=(o&15)<<4|l>>2,d[s++]=(l&3)<<6|u&63;return m},Ii=typeof ArrayBuffer=="function",Ht=(r,e)=>{if(typeof r!="string")return{type:"message",data:fn(r,e)};const t=r.charAt(0);return t==="b"?{type:"message",data:Ui(r.substring(1),e)}:Ze[t]?r.length>1?{type:Ze[t],data:r.substring(1)}:{type:Ze[t]}:Ot},Ui=(r,e)=>{if(Ii){const t=Fi(r);return fn(t,e)}else return{base64:!0,data:r}},fn=(r,e)=>{switch(e){case"blob":return r instanceof Blob?r:new Blob([r]);case"arraybuffer":default:return r instanceof ArrayBuffer?r:r.buffer}},mn="",qi=(r,e)=>{const t=r.length,n=new Array(t);let s=0;r.forEach((i,o)=>{Wt(i,!1,l=>{n[o]=l,++s===t&&e(n.join(mn))})})},$i=(r,e)=>{const t=r.split(mn),n=[];for(let s=0;s<t.length;s++){const i=Ht(t[s],e);if(n.push(i),i.type==="error")break}return n};function Mi(){return new TransformStream({transform(r,e){Bi(r,t=>{const n=t.length;let s;if(n<126)s=new Uint8Array(1),new DataView(s.buffer).setUint8(0,n);else if(n<65536){s=new Uint8Array(3);const i=new DataView(s.buffer);i.setUint8(0,126),i.setUint16(1,n)}else{s=new Uint8Array(9);const i=new DataView(s.buffer);i.setUint8(0,127),i.setBigUint64(1,BigInt(n))}r.data&&typeof r.data!="string"&&(s[0]|=128),e.enqueue(s),e.enqueue(t)})}})}let Pt;function ze(r){return r.reduce((e,t)=>e+t.length,0)}function Ye(r,e){if(r[0].length===e)return r.shift();const t=new Uint8Array(e);let n=0;for(let s=0;s<e;s++)t[s]=r[0][n++],n===r[0].length&&(r.shift(),n=0);return r.length&&n<r[0].length&&(r[0]=r[0].slice(n)),t}function Ki(r,e){Pt||(Pt=new TextDecoder);const t=[];let n=0,s=-1,i=!1;return new TransformStream({transform(o,l){for(t.push(o);;){if(n===0){if(ze(t)<1)break;const u=Ye(t,1);i=(u[0]&128)===128,s=u[0]&127,s<126?n=3:s===126?n=1:n=2}else if(n===1){if(ze(t)<2)break;const u=Ye(t,2);s=new DataView(u.buffer,u.byteOffset,u.length).getUint16(0),n=3}else if(n===2){if(ze(t)<8)break;const u=Ye(t,8),m=new DataView(u.buffer,u.byteOffset,u.length),d=m.getUint32(0);if(d>Math.pow(2,21)-1){l.enqueue(Ot);break}s=d*Math.pow(2,32)+m.getUint32(4),n=3}else{if(ze(t)<s)break;const u=Ye(t,s);l.enqueue(Ht(i?u:Pt.decode(u),e)),n=0}if(s===0||s>r){l.enqueue(Ot);break}}}})}const hn=4;function $(r){if(r)return Wi(r)}function Wi(r){for(var e in $.prototype)r[e]=$.prototype[e];return r}$.prototype.on=$.prototype.addEventListener=function(r,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+r]=this._callbacks["$"+r]||[]).push(e),this};$.prototype.once=function(r,e){function t(){this.off(r,t),e.apply(this,arguments)}return t.fn=e,this.on(r,t),this};$.prototype.off=$.prototype.removeListener=$.prototype.removeAllListeners=$.prototype.removeEventListener=function(r,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var t=this._callbacks["$"+r];if(!t)return this;if(arguments.length==1)return delete this._callbacks["$"+r],this;for(var n,s=0;s<t.length;s++)if(n=t[s],n===e||n.fn===e){t.splice(s,1);break}return t.length===0&&delete this._callbacks["$"+r],this};$.prototype.emit=function(r){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),t=this._callbacks["$"+r],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(t){t=t.slice(0);for(var n=0,s=t.length;n<s;++n)t[n].apply(this,e)}return this};$.prototype.emitReserved=$.prototype.emit;$.prototype.listeners=function(r){return this._callbacks=this._callbacks||{},this._callbacks["$"+r]||[]};$.prototype.hasListeners=function(r){return!!this.listeners(r).length};const ut=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,t)=>t(e,0),Z=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),Hi="arraybuffer";function pn(r,...e){return e.reduce((t,n)=>(r.hasOwnProperty(n)&&(t[n]=r[n]),t),{})}const Ji=Z.setTimeout,zi=Z.clearTimeout;function dt(r,e){e.useNativeTimers?(r.setTimeoutFn=Ji.bind(Z),r.clearTimeoutFn=zi.bind(Z)):(r.setTimeoutFn=Z.setTimeout.bind(Z),r.clearTimeoutFn=Z.clearTimeout.bind(Z))}const Yi=1.33;function Xi(r){return typeof r=="string"?Gi(r):Math.ceil((r.byteLength||r.size)*Yi)}function Gi(r){let e=0,t=0;for(let n=0,s=r.length;n<s;n++)e=r.charCodeAt(n),e<128?t+=1:e<2048?t+=2:e<55296||e>=57344?t+=3:(n++,t+=4);return t}function vn(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function Qi(r){let e="";for(let t in r)r.hasOwnProperty(t)&&(e.length&&(e+="&"),e+=encodeURIComponent(t)+"="+encodeURIComponent(r[t]));return e}function Zi(r){let e={},t=r.split("&");for(let n=0,s=t.length;n<s;n++){let i=t[n].split("=");e[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return e}class eo extends Error{constructor(e,t,n){super(e),this.description=t,this.context=n,this.type="TransportError"}}class Jt extends ${constructor(e){super(),this.writable=!1,dt(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,t,n){return super.emitReserved("error",new eo(e,t,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const t=Ht(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,t={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const t=Qi(e);return t.length?"?"+t:""}}class to extends Jt{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const t=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let n=0;this._polling&&(n++,this.once("pollComplete",function(){--n||t()})),this.writable||(n++,this.once("drain",function(){--n||t()}))}else t()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const t=n=>{if(this.readyState==="opening"&&n.type==="open"&&this.onOpen(),n.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(n)};$i(e,this.socket.binaryType).forEach(t),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,qi(e,t=>{this.doWrite(t,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",t=this.query||{};return this.opts.timestampRequests!==!1&&(t[this.opts.timestampParam]=vn()),!this.supportsBinary&&!t.sid&&(t.b64=1),this.createUri(e,t)}}let bn=!1;try{bn=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const ro=bn;function no(){}class so extends to{constructor(e){if(super(e),typeof location<"u"){const t=location.protocol==="https:";let n=location.port;n||(n=t?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||n!==e.port}}doWrite(e,t){const n=this.request({method:"POST",data:e});n.on("success",t),n.on("error",(s,i)=>{this.onError("xhr post error",s,i)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(t,n)=>{this.onError("xhr poll error",t,n)}),this.pollXhr=e}}class ie extends ${constructor(e,t,n){super(),this.createRequest=e,dt(this,n),this._opts=n,this._method=n.method||"GET",this._uri=t,this._data=n.data!==void 0?n.data:null,this._create()}_create(){var e;const t=pn(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this._opts.xd;const n=this._xhr=this.createRequest(t);try{n.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let s in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(s)&&n.setRequestHeader(s,this._opts.extraHeaders[s])}}catch{}if(this._method==="POST")try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{n.setRequestHeader("Accept","*/*")}catch{}(e=this._opts.cookieJar)===null||e===void 0||e.addCookies(n),"withCredentials"in n&&(n.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(n.timeout=this._opts.requestTimeout),n.onreadystatechange=()=>{var s;n.readyState===3&&((s=this._opts.cookieJar)===null||s===void 0||s.parseCookies(n.getResponseHeader("set-cookie"))),n.readyState===4&&(n.status===200||n.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof n.status=="number"?n.status:0)},0))},n.send(this._data)}catch(s){this.setTimeoutFn(()=>{this._onError(s)},0);return}typeof document<"u"&&(this._index=ie.requestsCount++,ie.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=no,e)try{this._xhr.abort()}catch{}typeof document<"u"&&delete ie.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}ie.requestsCount=0;ie.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Tr);else if(typeof addEventListener=="function"){const r="onpagehide"in Z?"pagehide":"unload";addEventListener(r,Tr,!1)}}function Tr(){for(let r in ie.requests)ie.requests.hasOwnProperty(r)&&ie.requests[r].abort()}const io=(function(){const r=gn({xdomain:!1});return r&&r.responseType!==null})();class oo extends so{constructor(e){super(e);const t=e&&e.forceBase64;this.supportsBinary=io&&!t}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new ie(gn,this.uri(),e)}}function gn(r){const e=r.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||ro))return new XMLHttpRequest}catch{}if(!e)try{return new Z[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const Nn=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class ao extends Jt{get name(){return"websocket"}doOpen(){const e=this.uri(),t=this.opts.protocols,n=Nn?{}:pn(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,t,n)}catch(s){return this.emitReserved("error",s)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const n=e[t],s=t===e.length-1;Wt(n,this.supportsBinary,i=>{try{this.doWrite(n,i)}catch{}s&&ut(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=vn()),this.supportsBinary||(t.b64=1),this.createUri(e,t)}}const Rt=Z.WebSocket||Z.MozWebSocket;class lo extends ao{createSocket(e,t,n){return Nn?new Rt(e,t,n):t?new Rt(e,t):new Rt(e)}doWrite(e,t){this.ws.send(t)}}class co extends Jt{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const t=Ki(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=e.readable.pipeThrough(t).getReader(),s=Mi();s.readable.pipeTo(e.writable),this._writer=s.writable.getWriter();const i=()=>{n.read().then(({done:l,value:u})=>{l||(this.onPacket(u),i())}).catch(l=>{})};i();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this._writer.write(o).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const n=e[t],s=t===e.length-1;this._writer.write(n).then(()=>{s&&ut(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this._transport)===null||e===void 0||e.close()}}const uo={websocket:lo,webtransport:co,polling:oo},fo=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,mo=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Vt(r){if(r.length>8e3)throw"URI too long";const e=r,t=r.indexOf("["),n=r.indexOf("]");t!=-1&&n!=-1&&(r=r.substring(0,t)+r.substring(t,n).replace(/:/g,";")+r.substring(n,r.length));let s=fo.exec(r||""),i={},o=14;for(;o--;)i[mo[o]]=s[o]||"";return t!=-1&&n!=-1&&(i.source=e,i.host=i.host.substring(1,i.host.length-1).replace(/;/g,":"),i.authority=i.authority.replace("[","").replace("]","").replace(/;/g,":"),i.ipv6uri=!0),i.pathNames=ho(i,i.path),i.queryKey=po(i,i.query),i}function ho(r,e){const t=/\/{2,9}/g,n=e.replace(t,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&n.splice(0,1),e.slice(-1)=="/"&&n.splice(n.length-1,1),n}function po(r,e){const t={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,s,i){s&&(t[s]=i)}),t}const Lt=typeof addEventListener=="function"&&typeof removeEventListener=="function",et=[];Lt&&addEventListener("offline",()=>{et.forEach(r=>r())},!1);class ce extends ${constructor(e,t){if(super(),this.binaryType=Hi,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&typeof e=="object"&&(t=e,e=null),e){const n=Vt(e);t.hostname=n.host,t.secure=n.protocol==="https"||n.protocol==="wss",t.port=n.port,n.query&&(t.query=n.query)}else t.host&&(t.hostname=Vt(t.host).host);dt(this,t),this.secure=t.secure!=null?t.secure:typeof location<"u"&&location.protocol==="https:",t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=t.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},t.transports.forEach(n=>{const s=n.prototype.name;this.transports.push(s),this._transportsByName[s]=n}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},t),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=Zi(this.opts.query)),Lt&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},et.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const t=Object.assign({},this.opts.query);t.EIO=hn,t.transport=e,this.id&&(t.sid=this.id);const n=Object.assign({},this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](n)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const e=this.opts.rememberUpgrade&&ce.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const t=this.createTransport(e);t.open(),this.setTransport(t)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",t=>this._onClose("transport close",t))}onOpen(){this.readyState="open",ce.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const t=new Error("server error");t.code=e.data,this._onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let t=1;for(let n=0;n<this.writeBuffer.length;n++){const s=this.writeBuffer[n].data;if(s&&(t+=Xi(s)),n>0&&t>this._maxPayload)return this.writeBuffer.slice(0,n);t+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,ut(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,t,n){return this._sendPacket("message",e,t,n),this}send(e,t,n){return this._sendPacket("message",e,t,n),this}_sendPacket(e,t,n,s){if(typeof t=="function"&&(s=t,t=void 0),typeof n=="function"&&(s=n,n=null),this.readyState==="closing"||this.readyState==="closed")return;n=n||{},n.compress=n.compress!==!1;const i={type:e,data:t,options:n};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),s&&this.once("flush",s),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},t=()=>{this.off("upgrade",t),this.off("upgradeError",t),e()},n=()=>{this.once("upgrade",t),this.once("upgradeError",t)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():e()}):this.upgrading?n():e()),this}_onError(e){if(ce.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Lt&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const n=et.indexOf(this._offlineEventListener);n!==-1&&et.splice(n,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this._prevBufferLen=0}}}ce.protocol=hn;class vo extends ce{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let t=this.createTransport(e),n=!1;ce.priorWebsocketSuccess=!1;const s=()=>{n||(t.send([{type:"ping",data:"probe"}]),t.once("packet",h=>{if(!n)if(h.type==="pong"&&h.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;ce.priorWebsocketSuccess=t.name==="websocket",this.transport.pause(()=>{n||this.readyState!=="closed"&&(d(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())})}else{const y=new Error("probe error");y.transport=t.name,this.emitReserved("upgradeError",y)}}))};function i(){n||(n=!0,d(),t.close(),t=null)}const o=h=>{const y=new Error("probe error: "+h);y.transport=t.name,i(),this.emitReserved("upgradeError",y)};function l(){o("transport closed")}function u(){o("socket closed")}function m(h){t&&h.name!==t.name&&i()}const d=()=>{t.removeListener("open",s),t.removeListener("error",o),t.removeListener("close",l),this.off("close",u),this.off("upgrading",m)};t.once("open",s),t.once("error",o),t.once("close",l),this.once("close",u),this.once("upgrading",m),this._upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{n||t.open()},200):t.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const t=[];for(let n=0;n<e.length;n++)~this.transports.indexOf(e[n])&&t.push(e[n]);return t}}let bo=class extends vo{constructor(e,t={}){const n=typeof e=="object"?e:t;(!n.transports||n.transports&&typeof n.transports[0]=="string")&&(n.transports=(n.transports||["polling","websocket","webtransport"]).map(s=>uo[s]).filter(s=>!!s)),super(e,n)}};function go(r,e="",t){let n=r;t=t||typeof location<"u"&&location,r==null&&(r=t.protocol+"//"+t.host),typeof r=="string"&&(r.charAt(0)==="/"&&(r.charAt(1)==="/"?r=t.protocol+r:r=t.host+r),/^(https?|wss?):\/\//.test(r)||(typeof t<"u"?r=t.protocol+"//"+r:r="https://"+r),n=Vt(r)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const i=n.host.indexOf(":")!==-1?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+i+":"+n.port+e,n.href=n.protocol+"://"+i+(t&&t.port===n.port?"":":"+n.port),n}const No=typeof ArrayBuffer=="function",yo=r=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(r):r.buffer instanceof ArrayBuffer,yn=Object.prototype.toString,jo=typeof Blob=="function"||typeof Blob<"u"&&yn.call(Blob)==="[object BlobConstructor]",Eo=typeof File=="function"||typeof File<"u"&&yn.call(File)==="[object FileConstructor]";function zt(r){return No&&(r instanceof ArrayBuffer||yo(r))||jo&&r instanceof Blob||Eo&&r instanceof File}function tt(r,e){if(!r||typeof r!="object")return!1;if(Array.isArray(r)){for(let t=0,n=r.length;t<n;t++)if(tt(r[t]))return!0;return!1}if(zt(r))return!0;if(r.toJSON&&typeof r.toJSON=="function"&&arguments.length===1)return tt(r.toJSON(),!0);for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t)&&tt(r[t]))return!0;return!1}function Do(r){const e=[],t=r.data,n=r;return n.data=Bt(t,e),n.attachments=e.length,{packet:n,buffers:e}}function Bt(r,e){if(!r)return r;if(zt(r)){const t={_placeholder:!0,num:e.length};return e.push(r),t}else if(Array.isArray(r)){const t=new Array(r.length);for(let n=0;n<r.length;n++)t[n]=Bt(r[n],e);return t}else if(typeof r=="object"&&!(r instanceof Date)){const t={};for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=Bt(r[n],e));return t}return r}function xo(r,e){return r.data=Ft(r.data,e),delete r.attachments,r}function Ft(r,e){if(!r)return r;if(r&&r._placeholder===!0){if(typeof r.num=="number"&&r.num>=0&&r.num<e.length)return e[r.num];throw new Error("illegal attachments")}else if(Array.isArray(r))for(let t=0;t<r.length;t++)r[t]=Ft(r[t],e);else if(typeof r=="object")for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&(r[t]=Ft(r[t],e));return r}const wo=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],ko=5;var T;(function(r){r[r.CONNECT=0]="CONNECT",r[r.DISCONNECT=1]="DISCONNECT",r[r.EVENT=2]="EVENT",r[r.ACK=3]="ACK",r[r.CONNECT_ERROR=4]="CONNECT_ERROR",r[r.BINARY_EVENT=5]="BINARY_EVENT",r[r.BINARY_ACK=6]="BINARY_ACK"})(T||(T={}));class Po{constructor(e){this.replacer=e}encode(e){return(e.type===T.EVENT||e.type===T.ACK)&&tt(e)?this.encodeAsBinary({type:e.type===T.EVENT?T.BINARY_EVENT:T.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let t=""+e.type;return(e.type===T.BINARY_EVENT||e.type===T.BINARY_ACK)&&(t+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(t+=e.nsp+","),e.id!=null&&(t+=e.id),e.data!=null&&(t+=JSON.stringify(e.data,this.replacer)),t}encodeAsBinary(e){const t=Do(e),n=this.encodeAsString(t.packet),s=t.buffers;return s.unshift(n),s}}function Cr(r){return Object.prototype.toString.call(r)==="[object Object]"}class Yt extends ${constructor(e){super(),this.reviver=e}add(e){let t;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e);const n=t.type===T.BINARY_EVENT;n||t.type===T.BINARY_ACK?(t.type=n?T.EVENT:T.ACK,this.reconstructor=new Ro(t),t.attachments===0&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else if(zt(e)||e.base64)if(this.reconstructor)t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let t=0;const n={type:Number(e.charAt(0))};if(T[n.type]===void 0)throw new Error("unknown packet type "+n.type);if(n.type===T.BINARY_EVENT||n.type===T.BINARY_ACK){const i=t+1;for(;e.charAt(++t)!=="-"&&t!=e.length;);const o=e.substring(i,t);if(o!=Number(o)||e.charAt(t)!=="-")throw new Error("Illegal attachments");n.attachments=Number(o)}if(e.charAt(t+1)==="/"){const i=t+1;for(;++t&&!(e.charAt(t)===","||t===e.length););n.nsp=e.substring(i,t)}else n.nsp="/";const s=e.charAt(t+1);if(s!==""&&Number(s)==s){const i=t+1;for(;++t;){const o=e.charAt(t);if(o==null||Number(o)!=o){--t;break}if(t===e.length)break}n.id=Number(e.substring(i,t+1))}if(e.charAt(++t)){const i=this.tryParse(e.substr(t));if(Yt.isPayloadValid(n.type,i))n.data=i;else throw new Error("invalid payload")}return n}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,t){switch(e){case T.CONNECT:return Cr(t);case T.DISCONNECT:return t===void 0;case T.CONNECT_ERROR:return typeof t=="string"||Cr(t);case T.EVENT:case T.BINARY_EVENT:return Array.isArray(t)&&(typeof t[0]=="number"||typeof t[0]=="string"&&wo.indexOf(t[0])===-1);case T.ACK:case T.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class Ro{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const t=xo(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const So=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Yt,Encoder:Po,get PacketType(){return T},protocol:ko},Symbol.toStringTag,{value:"Module"}));function re(r,e,t){return r.on(e,t),function(){r.off(e,t)}}const _o=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class jn extends ${constructor(e,t,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[re(e,"open",this.onopen.bind(this)),re(e,"packet",this.onpacket.bind(this)),re(e,"error",this.onerror.bind(this)),re(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...t){var n,s,i;if(_o.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(t.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(t),this;const o={type:T.EVENT,data:t};if(o.options={},o.options.compress=this.flags.compress!==!1,typeof t[t.length-1]=="function"){const d=this.ids++,h=t.pop();this._registerAckCallback(d,h),o.id=d}const l=(s=(n=this.io.engine)===null||n===void 0?void 0:n.transport)===null||s===void 0?void 0:s.writable,u=this.connected&&!(!((i=this.io.engine)===null||i===void 0)&&i._hasPingExpired());return this.flags.volatile&&!l||(u?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(e,t){var n;const s=(n=this.flags.timeout)!==null&&n!==void 0?n:this._opts.ackTimeout;if(s===void 0){this.acks[e]=t;return}const i=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let l=0;l<this.sendBuffer.length;l++)this.sendBuffer[l].id===e&&this.sendBuffer.splice(l,1);t.call(this,new Error("operation has timed out"))},s),o=(...l)=>{this.io.clearTimeoutFn(i),t.apply(this,l)};o.withError=!0,this.acks[e]=o}emitWithAck(e,...t){return new Promise((n,s)=>{const i=(o,l)=>o?s(o):n(l);i.withError=!0,t.push(i),this.emit(e,...t)})}_addToQueue(e){let t;typeof e[e.length-1]=="function"&&(t=e.pop());const n={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((s,...i)=>n!==this._queue[0]?void 0:(s!==null?n.tryCount>this._opts.retries&&(this._queue.shift(),t&&t(s)):(this._queue.shift(),t&&t(null,...i)),n.pending=!1,this._drainQueue())),this._queue.push(n),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const t=this._queue[0];t.pending&&!e||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:T.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(n=>String(n.id)===e)){const n=this.acks[e];delete this.acks[e],n.withError&&n.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case T.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case T.EVENT:case T.BINARY_EVENT:this.onevent(e);break;case T.ACK:case T.BINARY_ACK:this.onack(e);break;case T.DISCONNECT:this.ondisconnect();break;case T.CONNECT_ERROR:this.destroy();const n=new Error(e.data.message);n.data=e.data.data,this.emitReserved("connect_error",n);break}}onevent(e){const t=e.data||[];e.id!=null&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const n of t)n.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const t=this;let n=!1;return function(...s){n||(n=!0,t.packet({type:T.ACK,id:e,data:s}))}}onack(e){const t=this.acks[e.id];typeof t=="function"&&(delete this.acks[e.id],t.withError&&e.data.unshift(null),t.apply(this,e.data))}onconnect(e,t){this.id=e,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:T.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const t=this._anyListeners;for(let n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const t=this._anyOutgoingListeners;for(let n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const t=this._anyOutgoingListeners.slice();for(const n of t)n.apply(this,e.data)}}}function we(r){r=r||{},this.ms=r.min||100,this.max=r.max||1e4,this.factor=r.factor||2,this.jitter=r.jitter>0&&r.jitter<=1?r.jitter:0,this.attempts=0}we.prototype.duration=function(){var r=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),t=Math.floor(e*this.jitter*r);r=(Math.floor(e*10)&1)==0?r-t:r+t}return Math.min(r,this.max)|0};we.prototype.reset=function(){this.attempts=0};we.prototype.setMin=function(r){this.ms=r};we.prototype.setMax=function(r){this.max=r};we.prototype.setJitter=function(r){this.jitter=r};class It extends ${constructor(e,t){var n;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(t=e,e=void 0),t=t||{},t.path=t.path||"/socket.io",this.opts=t,dt(this,t),this.reconnection(t.reconnection!==!1),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor((n=t.randomizationFactor)!==null&&n!==void 0?n:.5),this.backoff=new we({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(t.timeout==null?2e4:t.timeout),this._readyState="closed",this.uri=e;const s=t.parser||So;this.encoder=new s.Encoder,this.decoder=new s.Decoder,this._autoConnect=t.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(t=this.backoff)===null||t===void 0||t.setMin(e),this)}randomizationFactor(e){var t;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(t=this.backoff)===null||t===void 0||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(t=this.backoff)===null||t===void 0||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new bo(this.uri,this.opts);const t=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const s=re(t,"open",function(){n.onopen(),e&&e()}),i=l=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",l),e?e(l):this.maybeReconnectOnOpen()},o=re(t,"error",i);if(this._timeout!==!1){const l=this._timeout,u=this.setTimeoutFn(()=>{s(),i(new Error("timeout")),t.close()},l);this.opts.autoUnref&&u.unref(),this.subs.push(()=>{this.clearTimeoutFn(u)})}return this.subs.push(s),this.subs.push(o),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(re(e,"ping",this.onping.bind(this)),re(e,"data",this.ondata.bind(this)),re(e,"error",this.onerror.bind(this)),re(e,"close",this.onclose.bind(this)),re(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(t){this.onclose("parse error",t)}}ondecoded(e){ut(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,t){let n=this.nsps[e];return n?this._autoConnect&&!n.active&&n.connect():(n=new jn(this,e,t),this.nsps[e]=n),n}_destroy(e){const t=Object.keys(this.nsps);for(const n of t)if(this.nsps[n].active)return;this._close()}_packet(e){const t=this.encoder.encode(e);for(let n=0;n<t.length;n++)this.engine.write(t[n],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,t){var n;this.cleanup(),(n=this.engine)===null||n===void 0||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const t=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(s=>{s?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",s)):e.onreconnect()}))},t);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const Ae={};function rt(r,e){typeof r=="object"&&(e=r,r=void 0),e=e||{};const t=go(r,e.path||"/socket.io"),n=t.source,s=t.id,i=t.path,o=Ae[s]&&i in Ae[s].nsps,l=e.forceNew||e["force new connection"]||e.multiplex===!1||o;let u;return l?u=new It(n,e):(Ae[s]||(Ae[s]=new It(n,e)),u=Ae[s]),t.query&&!e.query&&(e.query=t.queryKey),u.socket(t.path,e)}Object.assign(rt,{Manager:It,Socket:jn,io:rt,connect:rt});const En=D.createContext(null),ft=()=>D.useContext(En),Ao=({children:r})=>{const{user:e}=ve(),[t,n]=D.useState(null),s=D.useRef(null);return D.useEffect(()=>{if(e&&e.token){s.current&&s.current.disconnect();const o="http://localhost:5000/api".replace("/api",""),l=rt(o,{auth:{token:e.token},autoConnect:!0,transports:["websocket","polling"],withCredentials:!0,path:"/socket.io",reconnection:!0,reconnectionAttempts:10,reconnectionDelay:500,reconnectionDelayMax:5e3,timeout:2e4,forceNew:!0});return s.current=l,n(l),l.on("connect",()=>{console.log("[SOCKET] Connected:",l.id)}),l.on("disconnect",()=>{console.log("[SOCKET] Disconnected")}),l.io.on("reconnect_attempt",u=>{console.log("[SOCKET] Reconnect attempt:",u)}),l.io.on("reconnect_error",u=>{console.warn("[SOCKET] Reconnect error:",u?.message||u)}),l.io.on("error",u=>{console.warn("[SOCKET] IO error:",u?.message||u)}),l.on("connect_error",u=>{console.warn("[SOCKET] Connect error:",u?.message||u)}),()=>{l.disconnect()}}else s.current&&(s.current.disconnect(),n(null))},[e]),a.jsxDEV(En.Provider,{value:t,children:r},void 0,!1,{fileName:"D:/Projects/livekit-video-call/frontend/src/context/SocketContext.jsx",lineNumber:71,columnNumber:5},void 0)};class To extends Vr.Component{constructor(e){super(e),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,t){console.error("ErrorBoundary caught:",e,t),this.setState({error:e,errorInfo:t})}handleReset=()=>{this.setState({hasError:!1,error:null,errorInfo:null}),window.location.reload()};render(){return this.state.hasError?a.jsxDEV("div",{className:"error-boundary",children:a.jsxDEV("div",{className:"error-boundary-container",children:[a.jsxDEV("div",{className:"error-icon",children:""},void 0,!1,{fileName:"D:/Projects/livekit-video-call/frontend/src/components/ErrorBoundary.jsx",lineNumber:49,columnNumber:13},this),a.jsxDEV("h1",{children:"Oops! Something went wrong"},void 0,!1,{fileName:"D:/Projects/livekit-video-call/frontend/src/components/ErrorBoundary.jsx",lineNumber:50,columnNumber:13},this),a.jsxDEV("p",{className:"error-message",children:"We're sorry for the inconvenience. The application encountered an unexpected error."},void 0,!1,{fileName:"D:/Projects/livekit-video-call/frontend/src/components/ErrorBoundary.jsx",lineNumber:51,columnNumber:13},this),this.state.error&&a.jsxDEV("details",{className:"error-details",children:[a.jsxDEV("summary",{children:"Error Details (Development Only)"},void 0,!1,{fileName:"D:/Projects/livekit-video-call/frontend/src/components/ErrorBoundary.jsx",lineNumber:57,columnNumber:17},this),a.jsxDEV("pre",{className:"error-stack",children:[a.jsxDEV("strong",{children:this.state.error.toString()},void 0,!1,{fileName:"D:/Projects/livekit-video-call/frontend/src/components/ErrorBoundary.jsx",lineNumber:59,columnNumber:19},this),this.state.errorInfo?.componentStack]},void 0,!0,{fileName:"D:/Projects/livekit-video-call/frontend/src/components/ErrorBoundary.jsx",lineNumber:58,columnNumber:17},this)]},void 0,!0,{fileName:"D:/Projects/livekit-video-call/frontend/src/components/ErrorBoundary.jsx",lineNumber:56,columnNumber:15},this),a.jsxDEV("div",{className:"error-actions",children:[a.jsxDEV("button",{onClick:this.handleReset,className:"btn-primary",children:"Reload Application"},void 0,!1,{fileName:"D:/Projects/livekit-video-call/frontend/src/components/ErrorBoundary.jsx",lineNumber:66,columnNumber:15},this),a.jsxDEV("button",{onClick:()=>window.history.back(),className:"btn-secondary",children:"Go Back"},void 0,!1,{fileName:"D:/Projects/livekit-video-call/frontend/src/components/ErrorBoundary.jsx",lineNumber:69,columnNumber:15},this)]},void 0,!0,{fileName:"D:/Projects/livekit-video-call/frontend/src/components/ErrorBoundary.jsx",lineNumber:65,columnNumber:13},this)]},void 0,!0,{fileName:"D:/Projects/livekit-video-call/frontend/src/components/ErrorBoundary.jsx",lineNumber:48,columnNumber:11},this)},void 0,!1,{fileName:"D:/Projects/livekit-video-call/frontend/src/components/ErrorBoundary.jsx",lineNumber:47,columnNumber:9},this):this.props.children}}const Co=()=>{const[r,e]=D.useState(""),[t,n]=D.useState(""),[s,i]=D.useState(""),[o,l]=D.useState(!1),{login:u}=ve(),m=st(),d=async h=>{h.preventDefault(),i(""),l(!0);const y=await u(r,t);y.success?m("/dashboard"):i(y.message),l(!1)};return a.jsxDEV("div",{className:"auth-container",children:a.jsxDEV("div",{className:"auth-card",children:[a.jsxDEV("h2",{children:"Login to Video Call"},void 0,!1,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/Login.jsx",lineNumber:34,columnNumber:9},void 0),s&&a.jsxDEV("div",{className:"error-message",children:s},void 0,!1,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/Login.jsx",lineNumber:35,columnNumber:19},void 0),a.jsxDEV("form",{onSubmit:d,children:[a.jsxDEV("div",{className:"form-group",children:[a.jsxDEV("label",{htmlFor:"email",children:"Email"},void 0,!1,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/Login.jsx",lineNumber:39,columnNumber:13},void 0),a.jsxDEV("input",{type:"email",id:"email",value:r,onChange:h=>e(h.target.value),required:!0,placeholder:"Enter your email"},void 0,!1,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/Login.jsx",lineNumber:40,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/Login.jsx",lineNumber:38,columnNumber:11},void 0),a.jsxDEV("div",{className:"form-group",children:[a.jsxDEV("label",{htmlFor:"password",children:"Password"},void 0,!1,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/Login.jsx",lineNumber:51,columnNumber:13},void 0),a.jsxDEV("input",{type:"password",id:"password",value:t,onChange:h=>n(h.target.value),required:!0,placeholder:"Enter your password",minLength:"6"},void 0,!1,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/Login.jsx",lineNumber:52,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/Login.jsx",lineNumber:50,columnNumber:11},void 0),a.jsxDEV("button",{type:"submit",className:"btn-primary",disabled:o,children:o?"Logging in...":"Login"},void 0,!1,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/Login.jsx",lineNumber:63,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/Login.jsx",lineNumber:37,columnNumber:9},void 0),a.jsxDEV("p",{className:"auth-link",children:["Don't have an account? ",a.jsxDEV(Lr,{to:"/register",children:"Register here"},void 0,!1,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/Login.jsx",lineNumber:69,columnNumber:34},void 0)]},void 0,!0,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/Login.jsx",lineNumber:68,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/Login.jsx",lineNumber:33,columnNumber:7},void 0)},void 0,!1,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/Login.jsx",lineNumber:32,columnNumber:5},void 0)},Oo=()=>{const[r,e]=D.useState(""),[t,n]=D.useState(""),[s,i]=D.useState(""),[o,l]=D.useState(""),[u,m]=D.useState(""),[d,h]=D.useState(!1),{register:y}=ve(),x=st(),p=async b=>{if(b.preventDefault(),m(""),s!==o){m("Passwords do not match");return}if(s.length<6){m("Password must be at least 6 characters");return}h(!0);const v=await y(r,t,s);v.success?x("/dashboard"):m(v.message),h(!1)};return a.jsxDEV("div",{className:"auth-container",children:a.jsxDEV("div",{className:"auth-card",children:[a.jsxDEV("h2",{children:"Create Account"},void 0,!1,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/Register.jsx",lineNumber:46,columnNumber:9},void 0),u&&a.jsxDEV("div",{className:"error-message",children:u},void 0,!1,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/Register.jsx",lineNumber:47,columnNumber:19},void 0),a.jsxDEV("form",{onSubmit:p,children:[a.jsxDEV("div",{className:"form-group",children:[a.jsxDEV("label",{htmlFor:"name",children:"Name"},void 0,!1,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/Register.jsx",lineNumber:51,columnNumber:13},void 0),a.jsxDEV("input",{type:"text",id:"name",value:r,onChange:b=>e(b.target.value),required:!0,placeholder:"Enter your name"},void 0,!1,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/Register.jsx",lineNumber:52,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/Register.jsx",lineNumber:50,columnNumber:11},void 0),a.jsxDEV("div",{className:"form-group",children:[a.jsxDEV("label",{htmlFor:"email",children:"Email"},void 0,!1,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/Register.jsx",lineNumber:63,columnNumber:13},void 0),a.jsxDEV("input",{type:"email",id:"email",value:t,onChange:b=>n(b.target.value),required:!0,placeholder:"Enter your email"},void 0,!1,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/Register.jsx",lineNumber:64,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/Register.jsx",lineNumber:62,columnNumber:11},void 0),a.jsxDEV("div",{className:"form-group",children:[a.jsxDEV("label",{htmlFor:"password",children:"Password"},void 0,!1,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/Register.jsx",lineNumber:75,columnNumber:13},void 0),a.jsxDEV("input",{type:"password",id:"password",value:s,onChange:b=>i(b.target.value),required:!0,placeholder:"Enter your password",minLength:"6"},void 0,!1,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/Register.jsx",lineNumber:76,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/Register.jsx",lineNumber:74,columnNumber:11},void 0),a.jsxDEV("div",{className:"form-group",children:[a.jsxDEV("label",{htmlFor:"confirmPassword",children:"Confirm Password"},void 0,!1,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/Register.jsx",lineNumber:88,columnNumber:13},void 0),a.jsxDEV("input",{type:"password",id:"confirmPassword",value:o,onChange:b=>l(b.target.value),required:!0,placeholder:"Confirm your password",minLength:"6"},void 0,!1,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/Register.jsx",lineNumber:89,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/Register.jsx",lineNumber:87,columnNumber:11},void 0),a.jsxDEV("button",{type:"submit",className:"btn-primary",disabled:d,children:d?"Creating Account...":"Register"},void 0,!1,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/Register.jsx",lineNumber:100,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/Register.jsx",lineNumber:49,columnNumber:9},void 0),a.jsxDEV("p",{className:"auth-link",children:["Already have an account? ",a.jsxDEV(Lr,{to:"/login",children:"Login here"},void 0,!1,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/Register.jsx",lineNumber:106,columnNumber:36},void 0)]},void 0,!0,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/Register.jsx",lineNumber:105,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/Register.jsx",lineNumber:45,columnNumber:7},void 0)},void 0,!1,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/Register.jsx",lineNumber:44,columnNumber:5},void 0)},K=I.create({baseURL:"http://localhost:5000/api"});K.interceptors.request.use(r=>{const e=localStorage.getItem("userInfo");if(e){const{token:t}=JSON.parse(e);t&&(r.headers.Authorization=`Bearer ${t}`)}return r},r=>Promise.reject(r));K.interceptors.response.use(r=>r,r=>(r.response?.status===401&&(localStorage.removeItem("userInfo"),window.location.href="/login"),Promise.reject(r)));const Vo=()=>{const[r,e]=D.useState([]),[t,n]=D.useState([]),[s,i]=D.useState(!0),[o,l]=D.useState(""),{user:u,logout:m}=ve(),d=st(),h=ft();D.useEffect(()=>{y()},[]),D.useEffect(()=>{if(!h)return;const v=j=>{console.log("[SOCKET] Received call:invitation",j);const S=j.from?.name||"someone";window.confirm(`Incoming call from ${S}! Would you like to join?`)&&j.roomId&&d(`/room/${j.roomId}`)},N=j=>{console.log("[SOCKET] Received call:invite",j);const S=j.from?.name||"someone";window.confirm(`${S} is inviting you to a video call! Would you like to join?`)&&j.roomId&&d(`/room/${j.roomId}`)};return h.on("call:invitation",v),h.on("call:invite",N),()=>{h.off("call:invitation",v),h.off("call:invite",N)}},[h,d]);const y=async()=>{try{const{data:v}=await K.get("/auth/users"),N=Array.isArray(v)?v.filter(j=>j&&j._id!==u?._id):[];e(N),i(!1)}catch(v){console.error("Failed to load users:",v),l("Failed to load users"),e([]),i(!1)}},x=v=>{n(N=>N.includes(v)?N.filter(j=>j!==v):[...N,v])},p=async()=>{if(t.length===0){alert("Please select at least one user to call");return}const v=`room-${Date.now()}`;try{const N=t.map(j=>({userId:j}));await K.post("/calls",{roomId:v,participants:N}),h&&t.forEach(j=>{h.emit("call:invite",{to:j,roomId:v,from:u})}),d(`/room/${v}`)}catch(N){console.error("Failed to create call:",N),alert("Failed to start call")}},b=()=>{m(),d("/login")};return s?a.jsxDEV("div",{className:"loading",children:"Loading..."},void 0,!1,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/Dashboard.jsx",lineNumber:124,columnNumber:12},void 0):a.jsxDEV("div",{className:"dashboard-container",children:[a.jsxDEV("header",{className:"dashboard-header",children:[a.jsxDEV("h1",{children:"LiveKit Video Call"},void 0,!1,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/Dashboard.jsx",lineNumber:130,columnNumber:9},void 0),a.jsxDEV("div",{className:"user-info",children:[a.jsxDEV("span",{children:["Welcome, ",u?.name]},void 0,!0,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/Dashboard.jsx",lineNumber:132,columnNumber:11},void 0),a.jsxDEV("button",{onClick:b,className:"btn-logout",children:"Logout"},void 0,!1,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/Dashboard.jsx",lineNumber:133,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/Dashboard.jsx",lineNumber:131,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/Dashboard.jsx",lineNumber:129,columnNumber:7},void 0),a.jsxDEV("main",{className:"dashboard-main",children:[a.jsxDEV("div",{className:"users-section",children:[a.jsxDEV("h2",{children:"Available Users"},void 0,!1,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/Dashboard.jsx",lineNumber:139,columnNumber:11},void 0),o&&a.jsxDEV("div",{className:"error-message",children:o},void 0,!1,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/Dashboard.jsx",lineNumber:140,columnNumber:21},void 0),r.length===0?a.jsxDEV("p",{className:"no-users",children:"No other users available"},void 0,!1,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/Dashboard.jsx",lineNumber:143,columnNumber:13},void 0):a.jsxDEV("div",{className:"users-grid",children:r.map(v=>a.jsxDEV("div",{className:`user-card ${t.includes(v._id)?"selected":""}`,onClick:()=>x(v._id),children:[a.jsxDEV("div",{className:"user-avatar",children:v.name?v.name.charAt(0).toUpperCase():"?"},void 0,!1,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/Dashboard.jsx",lineNumber:152,columnNumber:19},void 0),a.jsxDEV("div",{className:"user-details",children:[a.jsxDEV("h3",{children:v.name||"Unknown User"},void 0,!1,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/Dashboard.jsx",lineNumber:156,columnNumber:21},void 0),a.jsxDEV("p",{children:v.email||"No email"},void 0,!1,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/Dashboard.jsx",lineNumber:157,columnNumber:21},void 0)]},void 0,!0,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/Dashboard.jsx",lineNumber:155,columnNumber:19},void 0),t.includes(v._id)&&a.jsxDEV("div",{className:"selected-badge",children:""},void 0,!1,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/Dashboard.jsx",lineNumber:160,columnNumber:21},void 0)]},v._id,!0,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/Dashboard.jsx",lineNumber:147,columnNumber:17},void 0))},void 0,!1,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/Dashboard.jsx",lineNumber:145,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/Dashboard.jsx",lineNumber:138,columnNumber:9},void 0),a.jsxDEV("div",{className:"action-section",children:a.jsxDEV("button",{onClick:p,className:"btn-call",disabled:t.length===0,children:["Start Video Call (",t.length," selected)"]},void 0,!0,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/Dashboard.jsx",lineNumber:169,columnNumber:11},void 0)},void 0,!1,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/Dashboard.jsx",lineNumber:168,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/Dashboard.jsx",lineNumber:137,columnNumber:7},void 0)]},void 0,!0,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/Dashboard.jsx",lineNumber:128,columnNumber:5},void 0)},Lo=()=>{const[r,e]=D.useState(null),[t,n]=D.useState("overview"),[s,i]=D.useState([]),[o,l]=D.useState([]),[u,m]=D.useState(null),[d,h]=D.useState(null),[y,x]=D.useState(!0);D.useEffect(()=>{p()},[]);const p=async()=>{try{x(!0);const[N,j,S,k]=await Promise.all([K.get("/admin/stats"),K.get("/admin/sessions/active"),K.get("/admin/analytics/calls"),K.get("/admin/analytics/alerts")]);e(N.data),i(j.data.activeSessions),m(S.data),h(k.data)}catch(N){console.error("Failed to fetch dashboard data:",N)}finally{x(!1)}},b=async()=>{try{const N=await K.get("/admin/users");l(N.data.users)}catch(N){console.error("Failed to fetch users:",N)}},v=async(N,j)=>{try{await K.put(`/admin/users/${N}`,{action:j}),alert(`User ${j}ed successfully`),b()}catch(S){console.error(`Failed to ${j} user:`,S),alert(`Failed to ${j} user`)}};return y?a.jsxDEV("div",{className:"loading",children:"Loading admin dashboard..."},void 0,!1,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/AdminDashboard.jsx",lineNumber:60,columnNumber:12},void 0):a.jsxDEV("div",{className:"admin-dashboard",children:[a.jsxDEV("header",{className:"admin-header",children:[a.jsxDEV("h1",{children:" Admin Dashboard"},void 0,!1,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/AdminDashboard.jsx",lineNumber:66,columnNumber:9},void 0),a.jsxDEV("button",{onClick:p,className:"refresh-btn",children:" Refresh"},void 0,!1,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/AdminDashboard.jsx",lineNumber:67,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/AdminDashboard.jsx",lineNumber:65,columnNumber:7},void 0),r&&a.jsxDEV("div",{className:"stats-grid",children:[a.jsxDEV("div",{className:"stat-card",children:[a.jsxDEV("h3",{children:"Total Users"},void 0,!1,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/AdminDashboard.jsx",lineNumber:76,columnNumber:13},void 0),a.jsxDEV("p",{className:"stat-number",children:r.overview.totalUsers},void 0,!1,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/AdminDashboard.jsx",lineNumber:77,columnNumber:13},void 0),a.jsxDEV("small",{children:["+",r.growth.newUsers," this week"]},void 0,!0,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/AdminDashboard.jsx",lineNumber:78,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/AdminDashboard.jsx",lineNumber:75,columnNumber:11},void 0),a.jsxDEV("div",{className:"stat-card",children:[a.jsxDEV("h3",{children:"Total Calls"},void 0,!1,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/AdminDashboard.jsx",lineNumber:81,columnNumber:13},void 0),a.jsxDEV("p",{className:"stat-number",children:r.overview.totalCalls},void 0,!1,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/AdminDashboard.jsx",lineNumber:82,columnNumber:13},void 0),a.jsxDEV("small",{children:["+",r.growth.newCalls," this week"]},void 0,!0,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/AdminDashboard.jsx",lineNumber:83,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/AdminDashboard.jsx",lineNumber:80,columnNumber:11},void 0),a.jsxDEV("div",{className:"stat-card active",children:[a.jsxDEV("h3",{children:"Active Calls"},void 0,!1,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/AdminDashboard.jsx",lineNumber:86,columnNumber:13},void 0),a.jsxDEV("p",{className:"stat-number",children:r.overview.activeCalls},void 0,!1,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/AdminDashboard.jsx",lineNumber:87,columnNumber:13},void 0),a.jsxDEV("small",{children:"Right now"},void 0,!1,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/AdminDashboard.jsx",lineNumber:88,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/AdminDashboard.jsx",lineNumber:85,columnNumber:11},void 0),a.jsxDEV("div",{className:"stat-card warning",children:[a.jsxDEV("h3",{children:"Total Alerts"},void 0,!1,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/AdminDashboard.jsx",lineNumber:91,columnNumber:13},void 0),a.jsxDEV("p",{className:"stat-number",children:r.overview.totalAlerts},void 0,!1,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/AdminDashboard.jsx",lineNumber:92,columnNumber:13},void 0),a.jsxDEV("small",{children:[r.overview.criticalAlerts," critical"]},void 0,!0,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/AdminDashboard.jsx",lineNumber:93,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/AdminDashboard.jsx",lineNumber:90,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/AdminDashboard.jsx",lineNumber:74,columnNumber:9},void 0),a.jsxDEV("div",{className:"tabs",children:[a.jsxDEV("button",{className:t==="overview"?"active":"",onClick:()=>n("overview"),children:"Overview"},void 0,!1,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/AdminDashboard.jsx",lineNumber:100,columnNumber:9},void 0),a.jsxDEV("button",{className:t==="sessions"?"active":"",onClick:()=>n("sessions"),children:["Active Sessions (",s.length,")"]},void 0,!0,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/AdminDashboard.jsx",lineNumber:106,columnNumber:9},void 0),a.jsxDEV("button",{className:t==="users"?"active":"",onClick:()=>{n("users"),b()},children:"Users"},void 0,!1,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/AdminDashboard.jsx",lineNumber:112,columnNumber:9},void 0),a.jsxDEV("button",{className:t==="analytics"?"active":"",onClick:()=>n("analytics"),children:"Analytics"},void 0,!1,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/AdminDashboard.jsx",lineNumber:121,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/AdminDashboard.jsx",lineNumber:99,columnNumber:7},void 0),a.jsxDEV("div",{className:"tab-content",children:[t==="overview"&&r&&a.jsxDEV("div",{className:"overview-section",children:a.jsxDEV("div",{className:"recent-section",children:[a.jsxDEV("h2",{children:"Recent Activity"},void 0,!1,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/AdminDashboard.jsx",lineNumber:134,columnNumber:15},void 0),a.jsxDEV("div",{className:"recent-users",children:[a.jsxDEV("h3",{children:"New Users"},void 0,!1,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/AdminDashboard.jsx",lineNumber:137,columnNumber:17},void 0),r.recent.users.map(N=>a.jsxDEV("div",{className:"user-item",children:[a.jsxDEV("span",{children:N.name},void 0,!1,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/AdminDashboard.jsx",lineNumber:140,columnNumber:21},void 0),a.jsxDEV("small",{children:N.email},void 0,!1,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/AdminDashboard.jsx",lineNumber:141,columnNumber:21},void 0),a.jsxDEV("small",{children:new Date(N.createdAt).toLocaleString()},void 0,!1,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/AdminDashboard.jsx",lineNumber:142,columnNumber:21},void 0)]},N._id,!0,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/AdminDashboard.jsx",lineNumber:139,columnNumber:19},void 0))]},void 0,!0,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/AdminDashboard.jsx",lineNumber:136,columnNumber:15},void 0),a.jsxDEV("div",{className:"recent-alerts",children:[a.jsxDEV("h3",{children:"Recent Alerts"},void 0,!1,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/AdminDashboard.jsx",lineNumber:148,columnNumber:17},void 0),r.recent.alerts.map(N=>a.jsxDEV("div",{className:`alert-item ${N.severity.toLowerCase()}`,children:[a.jsxDEV("span",{children:N.userId.name},void 0,!1,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/AdminDashboard.jsx",lineNumber:151,columnNumber:21},void 0),a.jsxDEV("span",{className:"severity",children:N.severity},void 0,!1,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/AdminDashboard.jsx",lineNumber:152,columnNumber:21},void 0),a.jsxDEV("small",{children:N.matchedWords.join(", ")},void 0,!1,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/AdminDashboard.jsx",lineNumber:153,columnNumber:21},void 0),a.jsxDEV("small",{children:new Date(N.createdAt).toLocaleString()},void 0,!1,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/AdminDashboard.jsx",lineNumber:154,columnNumber:21},void 0)]},N._id,!0,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/AdminDashboard.jsx",lineNumber:150,columnNumber:19},void 0))]},void 0,!0,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/AdminDashboard.jsx",lineNumber:147,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/AdminDashboard.jsx",lineNumber:133,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/AdminDashboard.jsx",lineNumber:132,columnNumber:11},void 0),t==="sessions"&&a.jsxDEV("div",{className:"sessions-section",children:[a.jsxDEV("h2",{children:"Active Sessions"},void 0,!1,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/AdminDashboard.jsx",lineNumber:164,columnNumber:13},void 0),s.length===0?a.jsxDEV("p",{className:"no-data",children:"No active sessions"},void 0,!1,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/AdminDashboard.jsx",lineNumber:166,columnNumber:15},void 0):a.jsxDEV("div",{className:"sessions-grid",children:s.map(N=>a.jsxDEV("div",{className:"session-card",children:[a.jsxDEV("h3",{children:["Room: ",N.roomId]},void 0,!0,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/AdminDashboard.jsx",lineNumber:171,columnNumber:21},void 0),a.jsxDEV("p",{children:["Duration: ",Math.floor(N.duration/60),"m ",N.duration%60,"s"]},void 0,!0,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/AdminDashboard.jsx",lineNumber:172,columnNumber:21},void 0),a.jsxDEV("p",{children:["Participants: ",N.participantCount]},void 0,!0,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/AdminDashboard.jsx",lineNumber:173,columnNumber:21},void 0),a.jsxDEV("div",{className:"participants-list",children:N.participants.map(j=>a.jsxDEV("div",{className:"participant",children:[a.jsxDEV("span",{children:j.name},void 0,!1,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/AdminDashboard.jsx",lineNumber:177,columnNumber:27},void 0),a.jsxDEV("span",{className:`status ${j.status}`,children:j.status},void 0,!1,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/AdminDashboard.jsx",lineNumber:178,columnNumber:27},void 0)]},j.userId,!0,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/AdminDashboard.jsx",lineNumber:176,columnNumber:25},void 0))},void 0,!1,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/AdminDashboard.jsx",lineNumber:174,columnNumber:21},void 0)]},N.callId,!0,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/AdminDashboard.jsx",lineNumber:170,columnNumber:19},void 0))},void 0,!1,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/AdminDashboard.jsx",lineNumber:168,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/AdminDashboard.jsx",lineNumber:163,columnNumber:11},void 0),t==="users"&&a.jsxDEV("div",{className:"users-section",children:[a.jsxDEV("h2",{children:"User Management"},void 0,!1,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/AdminDashboard.jsx",lineNumber:191,columnNumber:13},void 0),a.jsxDEV("table",{className:"users-table",children:[a.jsxDEV("thead",{children:a.jsxDEV("tr",{children:[a.jsxDEV("th",{children:"Name"},void 0,!1,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/AdminDashboard.jsx",lineNumber:195,columnNumber:19},void 0),a.jsxDEV("th",{children:"Email"},void 0,!1,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/AdminDashboard.jsx",lineNumber:196,columnNumber:19},void 0),a.jsxDEV("th",{children:"Created"},void 0,!1,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/AdminDashboard.jsx",lineNumber:197,columnNumber:19},void 0),a.jsxDEV("th",{children:"Actions"},void 0,!1,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/AdminDashboard.jsx",lineNumber:198,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/AdminDashboard.jsx",lineNumber:194,columnNumber:17},void 0)},void 0,!1,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/AdminDashboard.jsx",lineNumber:193,columnNumber:15},void 0),a.jsxDEV("tbody",{children:o.map(N=>a.jsxDEV("tr",{children:[a.jsxDEV("td",{children:N.name},void 0,!1,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/AdminDashboard.jsx",lineNumber:204,columnNumber:21},void 0),a.jsxDEV("td",{children:N.email},void 0,!1,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/AdminDashboard.jsx",lineNumber:205,columnNumber:21},void 0),a.jsxDEV("td",{children:new Date(N.createdAt).toLocaleDateString()},void 0,!1,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/AdminDashboard.jsx",lineNumber:206,columnNumber:21},void 0),a.jsxDEV("td",{children:[a.jsxDEV("button",{onClick:()=>v(N._id,"ban"),className:"btn-danger",children:"Ban"},void 0,!1,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/AdminDashboard.jsx",lineNumber:208,columnNumber:23},void 0),a.jsxDEV("button",{onClick:()=>v(N._id,"delete"),className:"btn-warning",children:"Delete"},void 0,!1,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/AdminDashboard.jsx",lineNumber:214,columnNumber:23},void 0)]},void 0,!0,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/AdminDashboard.jsx",lineNumber:207,columnNumber:21},void 0)]},N._id,!0,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/AdminDashboard.jsx",lineNumber:203,columnNumber:19},void 0))},void 0,!1,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/AdminDashboard.jsx",lineNumber:201,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/AdminDashboard.jsx",lineNumber:192,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/AdminDashboard.jsx",lineNumber:190,columnNumber:11},void 0),t==="analytics"&&a.jsxDEV("div",{className:"analytics-section",children:[a.jsxDEV("h2",{children:"Analytics"},void 0,!1,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/AdminDashboard.jsx",lineNumber:230,columnNumber:13},void 0),u&&a.jsxDEV("div",{className:"analytics-card",children:[a.jsxDEV("h3",{children:"Call Analytics (Last 30 Days)"},void 0,!1,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/AdminDashboard.jsx",lineNumber:234,columnNumber:17},void 0),a.jsxDEV("div",{className:"analytics-stats",children:[a.jsxDEV("div",{children:["Total Calls: ",u.totalCalls]},void 0,!0,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/AdminDashboard.jsx",lineNumber:236,columnNumber:19},void 0),a.jsxDEV("div",{children:["Completed: ",u.completedCalls]},void 0,!0,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/AdminDashboard.jsx",lineNumber:237,columnNumber:19},void 0),a.jsxDEV("div",{children:["Active: ",u.activeCalls]},void 0,!0,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/AdminDashboard.jsx",lineNumber:238,columnNumber:19},void 0),a.jsxDEV("div",{children:["Avg Participants: ",u.avgParticipants.toFixed(2)]},void 0,!0,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/AdminDashboard.jsx",lineNumber:239,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/AdminDashboard.jsx",lineNumber:235,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/AdminDashboard.jsx",lineNumber:233,columnNumber:15},void 0),d&&a.jsxDEV("div",{className:"analytics-card",children:[a.jsxDEV("h3",{children:"Alert Analytics (Last 30 Days)"},void 0,!1,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/AdminDashboard.jsx",lineNumber:246,columnNumber:17},void 0),a.jsxDEV("div",{className:"analytics-stats",children:[a.jsxDEV("div",{children:["Total Alerts: ",d.totalAlerts]},void 0,!0,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/AdminDashboard.jsx",lineNumber:248,columnNumber:19},void 0),d.alertsBySeverity.map(N=>a.jsxDEV("div",{children:[N._id,": ",N.count]},N._id,!0,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/AdminDashboard.jsx",lineNumber:250,columnNumber:21},void 0))]},void 0,!0,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/AdminDashboard.jsx",lineNumber:247,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/AdminDashboard.jsx",lineNumber:245,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/AdminDashboard.jsx",lineNumber:229,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/AdminDashboard.jsx",lineNumber:130,columnNumber:7},void 0)]},void 0,!0,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/AdminDashboard.jsx",lineNumber:64,columnNumber:5},void 0)},Bo=({callId:r})=>{const[e,t]=D.useState([]),[n,s]=D.useState([]),[i,o]=D.useState(""),[l,u]=D.useState(!1),[m,d]=D.useState("transcripts"),h=ft(),y=D.useCallback(async()=>{try{const{data:b}=await K.get(`/calls/${r}/transcripts`);t(b)}catch(b){console.error("Error fetching transcripts:",b)}},[r]),x=D.useCallback(async()=>{try{const{data:b}=await K.get(`/calls/${r}/alerts`);s(b)}catch(b){console.error("Error fetching alerts:",b)}},[r]);D.useEffect(()=>{if(!r)return;if(y(),x(),h){const v=j=>{t(S=>{const k=S.findIndex(_=>_.userId&&_.userId._id===j.userId),C=j.segment||{},L={text:C.text||"",timestamp:C.timestamp||Date.now()};if(k>=0){const _=[...S];return _[k]={..._[k],segments:[..._[k].segments||[],L]},_}return[...S,{userId:{_id:j.userId,name:j.userName},segments:[L]}]})},N=j=>{s(S=>[...S,{...j.alert,userId:{_id:j.userId,name:j.userName}}])};return h.on("transcript:new",v),h.on("alert:new",N),()=>{h.off("transcript:new",v),h.off("alert:new",N)}}const b=setInterval(()=>{y(),x()},5e3);return()=>clearInterval(b)},[r,y,x,h]);const p=async()=>{u(!0);try{const{data:b}=await K.post(`/calls/${r}/summarize`);o(b.summary),d("summary")}catch(b){console.error("Error generating summary:",b),alert("Failed to generate summary. Make sure there are transcripts available.")}finally{u(!1)}};return a.jsxDEV("div",{className:"transcript-panel",children:[a.jsxDEV("div",{className:"panel-header",children:[a.jsxDEV("div",{className:"panel-tabs",children:[a.jsxDEV("button",{className:m==="transcripts"?"active":"",onClick:()=>d("transcripts"),children:["Transcripts (",e.length,")"]},void 0,!0,{fileName:"D:/Projects/livekit-video-call/frontend/src/components/TranscriptPanel.jsx",lineNumber:116,columnNumber:11},void 0),a.jsxDEV("button",{className:m==="alerts"?"active":"",onClick:()=>d("alerts"),children:["Alerts (",n.length,")"]},void 0,!0,{fileName:"D:/Projects/livekit-video-call/frontend/src/components/TranscriptPanel.jsx",lineNumber:122,columnNumber:11},void 0),a.jsxDEV("button",{className:m==="summary"?"active":"",onClick:()=>d("summary"),children:"Summary"},void 0,!1,{fileName:"D:/Projects/livekit-video-call/frontend/src/components/TranscriptPanel.jsx",lineNumber:128,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Projects/livekit-video-call/frontend/src/components/TranscriptPanel.jsx",lineNumber:115,columnNumber:9},void 0),a.jsxDEV("button",{onClick:p,className:"btn-summarize",disabled:l||e.length===0,children:l?"Generating...":"Generate Summary"},void 0,!1,{fileName:"D:/Projects/livekit-video-call/frontend/src/components/TranscriptPanel.jsx",lineNumber:135,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Projects/livekit-video-call/frontend/src/components/TranscriptPanel.jsx",lineNumber:114,columnNumber:7},void 0),a.jsxDEV("div",{className:"panel-content",children:[m==="transcripts"&&a.jsxDEV("div",{className:"transcripts-list",children:e.length===0?a.jsxDEV("p",{className:"empty-message",children:"No transcripts yet"},void 0,!1,{fileName:"D:/Projects/livekit-video-call/frontend/src/components/TranscriptPanel.jsx",lineNumber:148,columnNumber:15},void 0):e.map((b,v)=>a.jsxDEV("div",{className:"transcript-item",children:[a.jsxDEV("div",{className:"transcript-header",children:a.jsxDEV("strong",{children:b.userId?.name||"Unknown"},void 0,!1,{fileName:"D:/Projects/livekit-video-call/frontend/src/components/TranscriptPanel.jsx",lineNumber:153,columnNumber:21},void 0)},void 0,!1,{fileName:"D:/Projects/livekit-video-call/frontend/src/components/TranscriptPanel.jsx",lineNumber:152,columnNumber:19},void 0),a.jsxDEV("div",{className:"transcript-segments",children:b.segments.map((N,j)=>a.jsxDEV("p",{className:"segment",children:[a.jsxDEV("span",{className:"time",children:["[",new Date(N.timestamp).toLocaleTimeString(),"]"]},void 0,!0,{fileName:"D:/Projects/livekit-video-call/frontend/src/components/TranscriptPanel.jsx",lineNumber:158,columnNumber:25},void 0),N.text]},j,!0,{fileName:"D:/Projects/livekit-video-call/frontend/src/components/TranscriptPanel.jsx",lineNumber:157,columnNumber:23},void 0))},void 0,!1,{fileName:"D:/Projects/livekit-video-call/frontend/src/components/TranscriptPanel.jsx",lineNumber:155,columnNumber:19},void 0)]},v,!0,{fileName:"D:/Projects/livekit-video-call/frontend/src/components/TranscriptPanel.jsx",lineNumber:151,columnNumber:17},void 0))},void 0,!1,{fileName:"D:/Projects/livekit-video-call/frontend/src/components/TranscriptPanel.jsx",lineNumber:146,columnNumber:11},void 0),m==="alerts"&&a.jsxDEV("div",{className:"alerts-list",children:n.length===0?a.jsxDEV("p",{className:"empty-message",children:"No alerts"},void 0,!1,{fileName:"D:/Projects/livekit-video-call/frontend/src/components/TranscriptPanel.jsx",lineNumber:174,columnNumber:15},void 0):n.map((b,v)=>a.jsxDEV("div",{className:`alert-item severity-${b.severity}`,children:[a.jsxDEV("div",{className:"alert-header",children:[a.jsxDEV("span",{className:"alert-user",children:b.userId?.name},void 0,!1,{fileName:"D:/Projects/livekit-video-call/frontend/src/components/TranscriptPanel.jsx",lineNumber:179,columnNumber:21},void 0),a.jsxDEV("span",{className:`alert-badge ${b.severity}`,children:b.severity.toUpperCase()},void 0,!1,{fileName:"D:/Projects/livekit-video-call/frontend/src/components/TranscriptPanel.jsx",lineNumber:180,columnNumber:21},void 0)]},void 0,!0,{fileName:"D:/Projects/livekit-video-call/frontend/src/components/TranscriptPanel.jsx",lineNumber:178,columnNumber:19},void 0),a.jsxDEV("div",{className:"alert-details",children:[a.jsxDEV("p",{className:"matched-words",children:[a.jsxDEV("strong",{children:"Flagged words:"},void 0,!1,{fileName:"D:/Projects/livekit-video-call/frontend/src/components/TranscriptPanel.jsx",lineNumber:186,columnNumber:23},void 0)," ",b.matchedWords.join(", ")]},void 0,!0,{fileName:"D:/Projects/livekit-video-call/frontend/src/components/TranscriptPanel.jsx",lineNumber:185,columnNumber:21},void 0),a.jsxDEV("p",{className:"context",children:[a.jsxDEV("strong",{children:"Context:"},void 0,!1,{fileName:"D:/Projects/livekit-video-call/frontend/src/components/TranscriptPanel.jsx",lineNumber:189,columnNumber:23},void 0),' "',b.context,'"']},void 0,!0,{fileName:"D:/Projects/livekit-video-call/frontend/src/components/TranscriptPanel.jsx",lineNumber:188,columnNumber:21},void 0),a.jsxDEV("p",{className:"timestamp",children:new Date(b.createdAt).toLocaleString()},void 0,!1,{fileName:"D:/Projects/livekit-video-call/frontend/src/components/TranscriptPanel.jsx",lineNumber:191,columnNumber:21},void 0)]},void 0,!0,{fileName:"D:/Projects/livekit-video-call/frontend/src/components/TranscriptPanel.jsx",lineNumber:184,columnNumber:19},void 0)]},v,!0,{fileName:"D:/Projects/livekit-video-call/frontend/src/components/TranscriptPanel.jsx",lineNumber:177,columnNumber:17},void 0))},void 0,!1,{fileName:"D:/Projects/livekit-video-call/frontend/src/components/TranscriptPanel.jsx",lineNumber:172,columnNumber:11},void 0),m==="summary"&&a.jsxDEV("div",{className:"summary-content",children:i?a.jsxDEV("div",{className:"summary-text",children:[a.jsxDEV("h3",{children:"Call Summary"},void 0,!1,{fileName:"D:/Projects/livekit-video-call/frontend/src/components/TranscriptPanel.jsx",lineNumber:205,columnNumber:17},void 0),a.jsxDEV("p",{children:i},void 0,!1,{fileName:"D:/Projects/livekit-video-call/frontend/src/components/TranscriptPanel.jsx",lineNumber:206,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/Projects/livekit-video-call/frontend/src/components/TranscriptPanel.jsx",lineNumber:204,columnNumber:15},void 0):a.jsxDEV("p",{className:"empty-message",children:'Click "Generate Summary" to create an AI-powered summary of this call'},void 0,!1,{fileName:"D:/Projects/livekit-video-call/frontend/src/components/TranscriptPanel.jsx",lineNumber:209,columnNumber:15},void 0)},void 0,!1,{fileName:"D:/Projects/livekit-video-call/frontend/src/components/TranscriptPanel.jsx",lineNumber:202,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Projects/livekit-video-call/frontend/src/components/TranscriptPanel.jsx",lineNumber:144,columnNumber:7},void 0)]},void 0,!0,{fileName:"D:/Projects/livekit-video-call/frontend/src/components/TranscriptPanel.jsx",lineNumber:113,columnNumber:5},void 0)};class Fo{constructor(){this.audioContext=null,this.mediaStream=null,this.sourceNode=null,this.processorNode=null,this.isCapturing=!1,this.onDataCallback=null,this.onErrorCallback=null}downsampleTo16k(e,t){if(t===16e3)return e;const s=t/16e3,i=Math.round(e.length/s),o=new Float32Array(i);let l=0,u=0;for(;l<o.length;){const m=Math.round((l+1)*s);let d=0,h=0;for(let y=Math.floor(u);y<Math.floor(m)&&y<e.length;y++)d+=e[y],h++;o[l]=h>0?d/h:0,l++,u=m}return o}async start(e,t){try{this.onDataCallback=e,this.onErrorCallback=t,this.mediaStream=await navigator.mediaDevices.getUserMedia({audio:{channelCount:1,sampleRate:16e3,echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0}}),this.audioContext=new(window.AudioContext||window.webkitAudioContext)({sampleRate:16e3}),this.sourceNode=this.audioContext.createMediaStreamSource(this.mediaStream);const n=4096;this.processorNode=this.audioContext.createScriptProcessor(n,1,1),this.processorNode.onaudioprocess=s=>{if(!this.isCapturing)return;const i=s.inputBuffer.getChannelData(0),o=this.downsampleTo16k(i,this.audioContext.sampleRate),l=new Int16Array(o.length);for(let d=0;d<o.length;d++){const h=Math.max(-1,Math.min(1,o[d]));l[d]=h<0?h*32768:h*32767}const m=(d=>{const h=new Uint8Array(d);let y="";const x=32768;for(let p=0;p<h.length;p+=x){const b=h.subarray(p,p+x);y+=String.fromCharCode.apply(null,b)}return btoa(y)})(l.buffer);this.onDataCallback&&this.onDataCallback(m)},this.sourceNode.connect(this.processorNode),this.processorNode.connect(this.audioContext.destination),this.isCapturing=!0,console.log("Audio capture started: 16kHz mono PCM16")}catch(n){throw console.error("Failed to start audio capture:",n),this.onErrorCallback&&this.onErrorCallback(n),n}}stop(){this.isCapturing=!1,this.processorNode&&(this.processorNode.disconnect(),this.processorNode=null),this.sourceNode&&(this.sourceNode.disconnect(),this.sourceNode=null),this.mediaStream&&(this.mediaStream.getTracks().forEach(e=>e.stop()),this.mediaStream=null),this.audioContext&&(this.audioContext.close(),this.audioContext=null),console.log("Audio capture stopped")}get active(){return this.isCapturing}}const Io=()=>{const r=D.useRef(null),[e,t]=D.useState(!1),[n,s]=D.useState(null);return D.useEffect(()=>(r.current||(r.current=new Fo),()=>{r.current?.active&&r.current.stop()}),[]),{startCapture:async l=>{try{s(null),await r.current.start(l,u=>s(u.message)),t(!0)}catch(u){throw s(u.message),u}},stopCapture:()=>{r.current?.stop(),t(!1)},isCapturing:e,error:n}},Uo=({roomId:r,callId:e,enabled:t=!0})=>{const n=ft(),{startCapture:s,stopCapture:i,isCapturing:o,error:l}=Io(),[u,m]=D.useState([]),[d,h]=D.useState("idle"),y="server".toLowerCase(),x=!1,[p,b]=D.useState("idle"),[v,N]=D.useState("");D.useEffect(()=>{if(!n||!t)return;const k=({userId:C,userName:L,segment:_})=>{m(R=>{if(_.isPartial&&R.length>0&&R[R.length-1].isPartial){const F=[...R];return F[F.length-1]={userName:L,text:_.text,isPartial:!0},F}return[...R,{userName:L,text:_.text,isPartial:_.isPartial}]})};return n.on("transcript:new",k),()=>{n.off("transcript:new",k)}},[n,t]);const j=async()=>{if(!(!n||!r)){h("starting");try{if(y==="browser"&&("webkitSpeechRecognition"in window||"SpeechRecognition"in window)){const k=window.SpeechRecognition||window.webkitSpeechRecognition,C=new k;C.lang="en-US",C.interimResults=!0,C.continuous=!0,C.onresult=L=>{let _="",R="";for(let F=L.resultIndex;F<L.results.length;F++){const ue=L.results[F][0].transcript;L.results[F].isFinal?R+=ue:_+=ue}_&&n.emit("transcription:text",{roomId:r,callId:e,text:_,isPartial:!0}),R&&n.emit("transcription:text",{roomId:r,callId:e,text:R,isPartial:!1})},C.onerror=L=>console.warn("SpeechRecognition error",L.error),C.onend=()=>console.log("SpeechRecognition ended"),C.start(),window.__rt_recognition=C,b("active"),N("browser")}else n.emit("transcription:start",{roomId:r,language:"en"}),await s(k=>{n.emit("transcription:audio",{chunk:k})}),N("sarvam");h("active")}catch(k){console.error("Failed to start realtime transcription:",k),h("idle")}}},S=()=>{if(n){if(h("stopping"),window.__rt_recognition){try{window.__rt_recognition.stop()}catch{}window.__rt_recognition=null}i(),n.emit("transcription:stop"),h("idle"),b("idle")}};return D.useEffect(()=>{if(!n)return;const k=({status:C,provider:L,reason:_})=>{b(C),L&&N(L),C==="error"&&console.warn("Transcription provider error:",_),C==="disabled"&&console.warn("Transcription provider disabled:",_)};return n.on("transcript:status",k),()=>n.off("transcript:status",k)},[n]),D.useEffect(()=>{},[x]),t?a.jsxDEV("div",{className:"realtime-transcription",children:[a.jsxDEV("div",{className:"rt-header",children:[a.jsxDEV("h4",{children:"Realtime Transcription"},void 0,!1,{fileName:"D:/Projects/livekit-video-call/frontend/src/components/RealtimeTranscription.jsx",lineNumber:138,columnNumber:9},void 0),a.jsxDEV("div",{className:"rt-status",children:`Mode: ${v||y} | Status: ${p}`},void 0,!1,{fileName:"D:/Projects/livekit-video-call/frontend/src/components/RealtimeTranscription.jsx",lineNumber:139,columnNumber:9},void 0),a.jsxDEV("div",{className:"rt-controls",children:o?a.jsxDEV("button",{onClick:S,disabled:d==="stopping",className:"btn-stop",children:d==="stopping"?"Stopping...":" Stop"},void 0,!1,{fileName:"D:/Projects/livekit-video-call/frontend/src/components/RealtimeTranscription.jsx",lineNumber:150,columnNumber:13},void 0):a.jsxDEV("button",{onClick:j,disabled:d==="starting",className:"btn-start",children:d==="starting"?"Starting...":" Start"},void 0,!1,{fileName:"D:/Projects/livekit-video-call/frontend/src/components/RealtimeTranscription.jsx",lineNumber:142,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/Projects/livekit-video-call/frontend/src/components/RealtimeTranscription.jsx",lineNumber:140,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Projects/livekit-video-call/frontend/src/components/RealtimeTranscription.jsx",lineNumber:137,columnNumber:7},void 0),o&&a.jsxDEV("div",{className:"rt-indicator",children:[a.jsxDEV("span",{className:"pulse-dot"},void 0,!1,{fileName:"D:/Projects/livekit-video-call/frontend/src/components/RealtimeTranscription.jsx",lineNumber:163,columnNumber:11},void 0),"Recording..."]},void 0,!0,{fileName:"D:/Projects/livekit-video-call/frontend/src/components/RealtimeTranscription.jsx",lineNumber:162,columnNumber:9},void 0),l&&a.jsxDEV("div",{className:"rt-error",children:[" ",l]},void 0,!0,{fileName:"D:/Projects/livekit-video-call/frontend/src/components/RealtimeTranscription.jsx",lineNumber:169,columnNumber:9},void 0),a.jsxDEV("div",{className:"rt-transcript-list",children:u.length===0?a.jsxDEV("p",{className:"rt-empty",children:"Start recording to see realtime transcripts..."},void 0,!1,{fileName:"D:/Projects/livekit-video-call/frontend/src/components/RealtimeTranscription.jsx",lineNumber:176,columnNumber:11},void 0):u.map((k,C)=>a.jsxDEV("div",{className:`rt-item ${k.isPartial?"partial":"final"}`,children:[a.jsxDEV("span",{className:"rt-speaker",children:[k.userName,":"]},void 0,!0,{fileName:"D:/Projects/livekit-video-call/frontend/src/components/RealtimeTranscription.jsx",lineNumber:183,columnNumber:15},void 0),a.jsxDEV("span",{className:"rt-text",children:k.text},void 0,!1,{fileName:"D:/Projects/livekit-video-call/frontend/src/components/RealtimeTranscription.jsx",lineNumber:184,columnNumber:15},void 0)]},C,!0,{fileName:"D:/Projects/livekit-video-call/frontend/src/components/RealtimeTranscription.jsx",lineNumber:179,columnNumber:13},void 0))},void 0,!1,{fileName:"D:/Projects/livekit-video-call/frontend/src/components/RealtimeTranscription.jsx",lineNumber:174,columnNumber:7},void 0)]},void 0,!0,{fileName:"D:/Projects/livekit-video-call/frontend/src/components/RealtimeTranscription.jsx",lineNumber:136,columnNumber:5},void 0):null},Ce=["Element not part of the array","placeholder not in","_camera_placeholder","updatePages()","Error while running updatePages()","peerconnection failed disconnected","resuming signal connection","Resuming signal connection","Resumed signal connection","publishing track","disconnect from room","websocket closed","detected connection state mismatch","leave-reconnect disconnected","already attempting reconnect","WebSocket is already in CLOSING or CLOSED state","reconnect disconnected","reconnecting, attempt:"],Xt=r=>{const e=r?.message||String(r);return Ce.some(t=>e.includes(t))},qo=()=>{const r=console.error;return console.error=(...e)=>{e.some(n=>typeof n=="string"?Ce.some(s=>n.includes(s)):n instanceof Error?Xt(n):!1)||r.apply(console,e)},()=>{console.error=r}},$o=()=>{const r=e=>{if(e.error&&Xt(e.error))return e.preventDefault(),!0};return window.addEventListener("error",r),()=>{window.removeEventListener("error",r)}},Mo=()=>{const r=e=>{if(e.reason&&Xt(e.reason))return e.preventDefault(),!0};return window.addEventListener("unhandledrejection",r),()=>{window.removeEventListener("unhandledrejection",r)}},Ko=()=>{const r=console.log;return console.log=(...e)=>{e.some(n=>typeof n=="string"?Ce.some(s=>n.includes(s)):!1)||r.apply(console,e)},()=>{console.log=r}},Wo=()=>{const r=console.warn;return console.warn=(...e)=>{e.some(n=>{if(typeof n=="string")return Ce.some(s=>n.includes(s));if(typeof n=="object"&&n!==null){const s=JSON.stringify(n);return Ce.some(i=>s.includes(i))}return!1})||r.apply(console,e)},()=>{console.warn=r}},Ho=()=>{const r=[qo(),Ko(),Wo(),$o(),Mo()];return()=>{r.forEach(e=>e())}},Jo=async(r,e)=>{const t={serverUrl:r,timestamp:new Date().toISOString(),tests:{},overall:"pending"};console.log(" [LiveKit Diagnostics] Starting connection tests..."),console.log(" [LiveKit Diagnostics] Server URL:",r);try{console.log(" [Test 1/4] Testing WebSocket connectivity...");const l=r.replace("wss://","").replace("ws://",""),u=new WebSocket(`wss://${l}`);await new Promise((m,d)=>{const h=setTimeout(()=>{u.close(),d(new Error("WebSocket connection timeout (5s)"))},5e3);u.onopen=()=>{clearTimeout(h),u.close(),t.tests.websocket={status:"pass",message:"WebSocket connection successful"},console.log(" [Test 1/4] WebSocket connection OK"),m()},u.onerror=y=>{clearTimeout(h),t.tests.websocket={status:"fail",message:"WebSocket connection failed",error:y},console.error(" [Test 1/4] WebSocket connection FAILED:",y),d(y)}})}catch(l){t.tests.websocket={status:"fail",message:"WebSocket connection failed",error:l.message,troubleshooting:["Check if LiveKit server is running","Verify the LIVEKIT_URL is correct","Check firewall/network settings","Ensure WebSocket connections are allowed"]},console.error(" [Test 1/4] WebSocket connection FAILED")}try{console.log(" [Test 2/4] Testing STUN server connectivity...");const l=new RTCPeerConnection({iceServers:[{urls:"stun:stun.l.google.com:19302"}]}),u=await new Promise((m,d)=>{const h=setTimeout(()=>{l.close(),d(new Error("STUN server timeout"))},5e3);l.onicecandidate=y=>{if(y.candidate){const x=y.candidate.candidate;(x.includes("srflx")||x.includes("relay"))&&(clearTimeout(h),l.close(),t.tests.stun={status:"pass",message:"STUN server reachable",candidate:x},console.log(" [Test 2/4] STUN server OK"),m(x))}},l.createDataChannel("test"),l.createOffer().then(y=>l.setLocalDescription(y))})}catch(l){t.tests.stun={status:"fail",message:"STUN server unreachable",error:l.message,troubleshooting:["Check internet connection","Verify firewall allows UDP traffic","Try alternative STUN servers"]},console.error(" [Test 2/4] STUN server test FAILED")}try{if(console.log(" [Test 3/4] Validating LiveKit token..."),!e)throw new Error("No token provided");const l=e.split(".");if(l.length!==3)throw new Error("Invalid JWT structure");const u=JSON.parse(atob(l[1])),m=Math.floor(Date.now()/1e3);if(console.log(" Token payload:",{identity:u.sub,room:u.video?.room,expires:u.exp?new Date(u.exp*1e3).toISOString():"N/A",isExpired:u.exp&&u.exp<m}),u.exp&&u.exp<m)throw new Error("Token has expired");t.tests.token={status:"pass",message:"Token is valid",details:{identity:u.sub,room:u.video?.room,expiresAt:u.exp?new Date(u.exp*1e3).toISOString():null}},console.log(" [Test 3/4] Token validation OK")}catch(l){t.tests.token={status:"fail",message:"Token validation failed",error:l.message,troubleshooting:["Check LIVEKIT_API_KEY in backend .env","Check LIVEKIT_API_SECRET in backend .env","Verify token generation in backend"]},console.error(" [Test 3/4] Token validation FAILED")}try{console.log(" [Test 4/4] Testing server reachability...");const l=r.replace("wss://","").replace("ws://","").split("/")[0];t.tests.server={status:"pass",message:`Server hostname resolved: ${l}`,hostname:l},console.log(" [Test 4/4] Server reachability OK")}catch(l){t.tests.server={status:"fail",message:"Server unreachable",error:l.message},console.error(" [Test 4/4] Server reachability FAILED")}const n=Object.values(t.tests).map(l=>l.status),s=n.filter(l=>l==="pass").length,i=n.length;s===i?(t.overall="pass",console.log(" [LiveKit Diagnostics] All tests passed!")):s>0?(t.overall="partial",console.warn(` [LiveKit Diagnostics] ${s}/${i} tests passed`)):(t.overall="fail",console.error(" [LiveKit Diagnostics] All tests failed")),console.log(`
 [LiveKit Diagnostics] Summary:`),console.table(t.tests);const o=Object.entries(t.tests).filter(([l,u])=>u.status==="fail");return o.length>0&&(console.log(`
 [LiveKit Diagnostics] Recommendations:`),o.forEach(([l,u])=>{console.log(`
${l.toUpperCase()}:`),u.troubleshooting&&u.troubleshooting.forEach(m=>console.log(`   ${m}`))})),t},zo=async(r,e)=>{console.log(`
 [LiveKit] Connection failure detected. Running diagnostics...
`);const t=await Jo(r,e);return t.overall==="fail"&&(console.error(`
 [LiveKit] Critical connection issues detected:`),console.error("Please check your LiveKit configuration:"),console.error("  1. Verify LIVEKIT_URL in backend .env"),console.error("  2. Verify LIVEKIT_API_KEY in backend .env"),console.error("  3. Verify LIVEKIT_API_SECRET in backend .env"),console.error("  4. Ensure LiveKit Cloud server is active"),console.error("  5. Check network/firewall settings")),t},Yo=()=>{const{roomId:r}=Yn(),{user:e}=ve(),t=ft(),n=st(),[s,i]=D.useState(""),[o,l]=D.useState("wss://videochat-bqwb1uca.livekit.cloud"),[u,m]=D.useState(!0),[d,h]=D.useState(""),[y,x]=D.useState(null),[p,b]=D.useState(!1),[v,N]=D.useState(!1),j=D.useRef(!0),S=D.useCallback(async()=>{try{console.log("[VideoRoom] Fetching LiveKit token for room:",r);const{data:R}=await K.get("/livekit/token",{params:{roomName:r,participantName:e.name}});if(!j.current)return;console.log("[VideoRoom] Token received, LiveKit URL:",R.url),console.log("[VideoRoom] Room name:",R.roomName),i(R.token),R.url&&l(R.url);const F=await K.post("/calls",{roomId:r});if(!j.current)return;x(F.data._id),m(!1)}catch(R){if(console.error("[VideoRoom] Error fetching token:",R),console.error("[VideoRoom] Error details:",R.response?.data),j.current){const F=R.response?.data?.message||"Failed to join room. Please check LiveKit configuration.";h(F),m(!1)}}},[r,e]);D.useEffect(()=>{if(t&&r)return console.log(`[VideoRoom] Joining socket room: ${r}`),t.emit("call:join",{roomId:r}),()=>{console.log(`[VideoRoom] Leaving socket room: ${r}`),t.emit("call:leave",{roomId:r})}},[t,r]),D.useEffect(()=>{if(!e){n("/login");return}S();const R=Ho();return()=>{j.current=!1,R()}},[e,r,S,n]);const k=D.useCallback(async()=>{if(N(!1),y)try{await K.put(`/calls/${y}/end`)}catch(R){console.error("Error ending call:",R)}setTimeout(()=>{j.current&&n("/dashboard")},300)},[y,n]),C=D.useCallback(()=>{console.log("[VideoRoom] Temporarily disconnected from LiveKit"),N(!1)},[]),L=D.useCallback(()=>{N(!0),console.log("[VideoRoom]  Successfully connected to LiveKit room")},[]),_=D.useCallback(R=>{console.error("[VideoRoom]  LiveKit error:",R),console.error("[VideoRoom] Error code:",R?.code),console.error("[VideoRoom] Error message:",R?.message);const F=R?.message||String(R);F.includes("Element not part of the array")||F.includes("placeholder")||(R?.code==="CONNECTION_FAILED"||R?.code==="ROOM_DISCONNECTED"||F.includes("peerconnection failed")||F.includes("WebSocket"))&&(console.error("[VideoRoom] Connection issue detected. Possible causes:"),console.error("  - LiveKit server is down or unreachable"),console.error("  - Invalid API credentials"),console.error("  - Network/firewall blocking WebSocket connection"),console.error("  - STUN/TURN server configuration issue"),s&&zo("wss://videochat-bqwb1uca.livekit.cloud",s).catch(console.error),h(`Unable to establish video connection. This could be due to:
 LiveKit server configuration issues
 Network/firewall restrictions
 Invalid credentials

Please check the console for detailed diagnostics.`))},[s]);return u?a.jsxDEV("div",{className:"loading",children:"Connecting to room..."},void 0,!1,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/VideoRoom.jsx",lineNumber:174,columnNumber:12},void 0):d?a.jsxDEV("div",{className:"error-container",children:[a.jsxDEV("h2",{children:"Error"},void 0,!1,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/VideoRoom.jsx",lineNumber:180,columnNumber:9},void 0),a.jsxDEV("p",{children:d},void 0,!1,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/VideoRoom.jsx",lineNumber:181,columnNumber:9},void 0),a.jsxDEV("button",{onClick:()=>n("/dashboard"),children:"Back to Dashboard"},void 0,!1,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/VideoRoom.jsx",lineNumber:182,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/VideoRoom.jsx",lineNumber:179,columnNumber:7},void 0):a.jsxDEV("div",{className:"video-room-container",children:[!v&&a.jsxDEV("div",{className:"connection-status",children:[a.jsxDEV("p",{children:" Connecting to LiveKit server..."},void 0,!1,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/VideoRoom.jsx",lineNumber:191,columnNumber:11},void 0),a.jsxDEV("small",{children:"If this takes too long, the server may be inactive"},void 0,!1,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/VideoRoom.jsx",lineNumber:192,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/VideoRoom.jsx",lineNumber:190,columnNumber:9},void 0),a.jsxDEV(Qn,{token:s,serverUrl:o,"data-lk-theme":"default",style:{height:"100vh"},onConnected:L,onDisconnected:C,onError:_,connectOptions:{autoSubscribe:!0,publishDefaults:{videoSimulcastLayers:[{quality:"high",width:1280,height:720},{quality:"medium",width:640,height:360},{quality:"low",width:320,height:180}],stopLocalTrackOnUnpublish:!0},adaptiveStream:!0,dynacast:!0,reconnectPolicy:{nextRetryDelayInMs:R=>R.retryCount===0?500:R.retryCount<3?1e3:Math.min(2e3*R.retryCount,1e4),maxAttempts:15},peerConnectionTimeout:15e3},children:[a.jsxDEV("div",{className:"room-header",children:[a.jsxDEV("h3",{children:["Room: ",r]},void 0,!0,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/VideoRoom.jsx",lineNumber:232,columnNumber:11},void 0),a.jsxDEV("div",{className:"room-actions",children:[a.jsxDEV("button",{onClick:()=>b(!p),className:"btn-transcript",children:p?"Hide Transcripts":"Show Transcripts"},void 0,!1,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/VideoRoom.jsx",lineNumber:234,columnNumber:13},void 0),a.jsxDEV("button",{onClick:k,className:"btn-leave",children:"Leave Call"},void 0,!1,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/VideoRoom.jsx",lineNumber:240,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/VideoRoom.jsx",lineNumber:233,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/VideoRoom.jsx",lineNumber:231,columnNumber:9},void 0),a.jsxDEV(Zn,{style:{width:"100%",height:"100%",position:"absolute",top:"65px",left:0,right:0,bottom:0}},void 0,!1,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/VideoRoom.jsx",lineNumber:247,columnNumber:9},void 0),a.jsxDEV(es,{label:"Click to Enable Audio"},void 0,!1,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/VideoRoom.jsx",lineNumber:260,columnNumber:9},void 0),a.jsxDEV(ts,{},void 0,!1,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/VideoRoom.jsx",lineNumber:261,columnNumber:9},void 0),p&&y&&a.jsxDEV("div",{className:"transcript-overlay",children:[a.jsxDEV(Uo,{roomId:r,callId:y,enabled:!0},void 0,!1,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/VideoRoom.jsx",lineNumber:267,columnNumber:13},void 0),a.jsxDEV(Bo,{callId:y},void 0,!1,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/VideoRoom.jsx",lineNumber:268,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/VideoRoom.jsx",lineNumber:265,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/VideoRoom.jsx",lineNumber:196,columnNumber:7},void 0)]},void 0,!0,{fileName:"D:/Projects/livekit-video-call/frontend/src/pages/VideoRoom.jsx",lineNumber:188,columnNumber:5},void 0)},St=({children:r})=>{const{user:e,loading:t}=ve();return t?a.jsxDEV("div",{className:"loading",children:"Loading..."},void 0,!1,{fileName:"D:/Projects/livekit-video-call/frontend/src/App.jsx",lineNumber:18,columnNumber:12},void 0):e?r:a.jsxDEV(Ut,{to:"/login"},void 0,!1,{fileName:"D:/Projects/livekit-video-call/frontend/src/App.jsx",lineNumber:21,columnNumber:28},void 0)},Or=({children:r})=>{const{user:e,loading:t}=ve();return t?a.jsxDEV("div",{className:"loading",children:"Loading..."},void 0,!1,{fileName:"D:/Projects/livekit-video-call/frontend/src/App.jsx",lineNumber:29,columnNumber:12},void 0):e?a.jsxDEV(Ut,{to:"/dashboard"},void 0,!1,{fileName:"D:/Projects/livekit-video-call/frontend/src/App.jsx",lineNumber:32,columnNumber:29},void 0):r};function Xo(){return a.jsxDEV(Xn,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:a.jsxDEV(Gn,{children:[a.jsxDEV(je,{path:"/",element:a.jsxDEV(Ut,{to:"/dashboard"},void 0,!1,{fileName:"D:/Projects/livekit-video-call/frontend/src/App.jsx",lineNumber:41,columnNumber:20},this)},void 0,!1,{fileName:"D:/Projects/livekit-video-call/frontend/src/App.jsx",lineNumber:39,columnNumber:9},this),a.jsxDEV(je,{path:"/login",element:a.jsxDEV(Or,{children:a.jsxDEV(Co,{},void 0,!1,{fileName:"D:/Projects/livekit-video-call/frontend/src/App.jsx",lineNumber:47,columnNumber:15},this)},void 0,!1,{fileName:"D:/Projects/livekit-video-call/frontend/src/App.jsx",lineNumber:46,columnNumber:13},this)},void 0,!1,{fileName:"D:/Projects/livekit-video-call/frontend/src/App.jsx",lineNumber:43,columnNumber:9},this),a.jsxDEV(je,{path:"/register",element:a.jsxDEV(Or,{children:a.jsxDEV(Oo,{},void 0,!1,{fileName:"D:/Projects/livekit-video-call/frontend/src/App.jsx",lineNumber:55,columnNumber:15},this)},void 0,!1,{fileName:"D:/Projects/livekit-video-call/frontend/src/App.jsx",lineNumber:54,columnNumber:13},this)},void 0,!1,{fileName:"D:/Projects/livekit-video-call/frontend/src/App.jsx",lineNumber:51,columnNumber:9},this),a.jsxDEV(je,{path:"/dashboard",element:a.jsxDEV(St,{children:a.jsxDEV(Vo,{},void 0,!1,{fileName:"D:/Projects/livekit-video-call/frontend/src/App.jsx",lineNumber:63,columnNumber:15},this)},void 0,!1,{fileName:"D:/Projects/livekit-video-call/frontend/src/App.jsx",lineNumber:62,columnNumber:13},this)},void 0,!1,{fileName:"D:/Projects/livekit-video-call/frontend/src/App.jsx",lineNumber:59,columnNumber:9},this),a.jsxDEV(je,{path:"/admin",element:a.jsxDEV(St,{children:a.jsxDEV(Lo,{},void 0,!1,{fileName:"D:/Projects/livekit-video-call/frontend/src/App.jsx",lineNumber:71,columnNumber:15},this)},void 0,!1,{fileName:"D:/Projects/livekit-video-call/frontend/src/App.jsx",lineNumber:70,columnNumber:13},this)},void 0,!1,{fileName:"D:/Projects/livekit-video-call/frontend/src/App.jsx",lineNumber:67,columnNumber:9},this),a.jsxDEV(je,{path:"/room/:roomId",element:a.jsxDEV(St,{children:a.jsxDEV(Yo,{},void 0,!1,{fileName:"D:/Projects/livekit-video-call/frontend/src/App.jsx",lineNumber:79,columnNumber:15},this)},void 0,!1,{fileName:"D:/Projects/livekit-video-call/frontend/src/App.jsx",lineNumber:78,columnNumber:13},this)},void 0,!1,{fileName:"D:/Projects/livekit-video-call/frontend/src/App.jsx",lineNumber:75,columnNumber:9},this)]},void 0,!0,{fileName:"D:/Projects/livekit-video-call/frontend/src/App.jsx",lineNumber:38,columnNumber:7},this)},void 0,!1,{fileName:"D:/Projects/livekit-video-call/frontend/src/App.jsx",lineNumber:37,columnNumber:5},this)}function Go(){return a.jsxDEV(To,{children:a.jsxDEV(Li,{children:a.jsxDEV(Ao,{children:a.jsxDEV(Xo,{},void 0,!1,{fileName:"D:/Projects/livekit-video-call/frontend/src/App.jsx",lineNumber:93,columnNumber:11},this)},void 0,!1,{fileName:"D:/Projects/livekit-video-call/frontend/src/App.jsx",lineNumber:92,columnNumber:9},this)},void 0,!1,{fileName:"D:/Projects/livekit-video-call/frontend/src/App.jsx",lineNumber:91,columnNumber:7},this)},void 0,!1,{fileName:"D:/Projects/livekit-video-call/frontend/src/App.jsx",lineNumber:90,columnNumber:5},this)}const Qo=os.createRoot(document.getElementById("root"));Qo.render(a.jsxDEV(Vr.StrictMode,{children:a.jsxDEV(Go,{},void 0,!1,{fileName:"D:/Projects/livekit-video-call/frontend/src/index.jsx",lineNumber:9,columnNumber:5},void 0)},void 0,!1,{fileName:"D:/Projects/livekit-video-call/frontend/src/index.jsx",lineNumber:8,columnNumber:3},void 0));
